


import { Ability, Skill, Weapon, MasteryProperty, SpellDetail } from './types';

// All spell details are now consolidated in this file for simplicity and to avoid import issues.
export const SPELL_DETAILS: Record<string, SpellDetail> = {
  // Cantrips (Level 0)
  'Acid Splash':{level:0,school:'Evocation',castingTime:'Action',range:'60 feet',components:'V, S',duration:'Instantaneous',description:'You create an acidic bubble at a point within range, where it explodes in a 5-foot-radius Sphere. Each creature in that Sphere must succeed on a Dexterity saving throw or take 1d6 Acid damage.\n\nCantrip Upgrade. The damage increases by 1d6 when you reach levels 5 (2d6), 11 (3d6), and 17 (4d6).',name:'Acid Splash'},
  'Blade Ward':{level:0,school:'Abjuration',castingTime:'Action',range:'Self',components:'V, S',duration:'Concentration, up to 1 minute',description:'Whenever a creature makes an attack roll against you before the spell ends, the attacker subtracts 1d4 from the attack roll.',name:'Blade Ward'},
  'Chill Touch':{level:0,school:'Necromancy',castingTime:'Action',range:'Touch',components:'V, S',duration:'Instantaneous',description:'Channeling the chill of the grave, make a melee spell attack against a target within reach. On a hit, the target takes 1d10 Necrotic damage, and it can\'t regain Hit Points until the end of your next turn.\n\nCantrip Upgrade. The damage increases by 1d10 when you reach levels 5 (2d10), 11 (3d10), and 17 (4d10).',name:'Chill Touch'},
  'Dancing Lights':{level:0,school:'Illusion',castingTime:'Action',range:'120 feet',components:'V, S, M (a bit of phosphorus)',duration:'Concentration, up to 1 minute',description:'You create up to four torch-size lights within range, making them appear as torches, lanterns, or glowing orbs that hover for the duration. Alternatively, you combine the four lights into one glowing Medium form that is vaguely humanlike. Whichever form you choose, each light sheds Dim Light in a 10-foot radius.\nAs a Bonus Action, you can move the lights up to 60 feet to a space within range. A light must be within 20 feet of another light created by this spell, and a light vanishes if it exceeds the spell\'s range.',name:'Dancing Lights'},
  'Druidcraft':{level:0,school:'Transmutation',castingTime:'Action',range:'30 feet',components:'V, S',duration:'Instantaneous',description:'Whispering to the spirits of nature, you create one of the following effects within range.\nWeather Sensor. You create a Tiny, harmless sensory effect that predicts what the weather will be at your location for the next 24 hours. The effect might manifest as a golden orb for clear skies, a cloud for rain, falling snowflakes for snow, and so on. This effect persists for 1 round.\nBloom. You instantly make a flower blossom, a seed pod open, or a leaf bud bloom.\nSensory Effect. You create a harmless sensory effect, such as falling leaves, spectral dancing fairies, a gentle breeze, the sound of an animal, or the faint odor of skunk. The effect must fit in a 5-foot Cube.\nFire Play. You light or snuff out a candle, a torch, or a campfire.',name:'Druidcraft'},
  'Eldritch Blast':{level:0,school:'Evocation',castingTime:'Action',range:'120 feet',components:'V, S',duration:'Instantaneous',description:'Your hurl a beam of crackling energy. Make a ranged spell attack against one creature or object in range. On a hit, the target takes 1d10 Force damage.\nCantrip Upgrade. The spell creates two beams at level 5, three beams at level 11, and four beams at level 17. You can direct the beams at the same target or at different ones. Make a separate attack roll for each beam.',name:'Eldritch Blast'},
  'Elementalism': {name: 'Elementalism', level: 0, school: 'Transmutation', castingTime: 'Action', range: '30 feet', components: 'V, S', duration: 'Instantaneous', description: 'You exert control over the elements, creating one of the following effects within range:\nBeckon Air. You create a breeze strong enough to ripple cloth, stir dust, rustle leaves, and close open doors and shutters, all in a 5-foot Cube. Doors and shutters being held open by someone or something aren\'t affected.\nBeckon Earth. You create a thin shroud of dust or sand that covers surfaces in a 5-foot-square area, or you cause a single word to appear in your handwriting in a patch of dirt or sand.\nBeckon Fire. You create a thin cloud of harmless embers and colored, scented smoke in a 5-foot Cube. You choose the color and scent, and the embers can light candles, torches, or lamps in that area. The smoke\'s scent lingers for 1 minute.\nBeckon Water. You create a spray of cool mist that lightly dampens creatures and objects in a 5-foot Cube. Alternatively, you create 1 cup of clean water either in an open container or on a surface, and the water evaporates in 1 minute.\nSculpt Element. You cause dirt, sand, fire, smoke, mist, or water that can fit in a 1-foot Cube to assume a crude shape (such as that of a creature or an object) for 1 hour.'},
  'Fire Bolt':{level:0,school:'Evocation',castingTime:'Action',range:'120 feet',components:'V, S',duration:'Instantaneous',description:'You hurl a mote of fire at a creature or an object within range. Make a ranged spell attack against the target. On a hit, the target takes 1d10 Fire damage. A flammable object hit by this spell starts burning if it isn\'t being worn or carried.\nCantrip Upgrade. The damage increases by 1d10 when you reach levels 5 (2d10), 11 (3d10), and 17 (4d10).',name:'Fire Bolt'},
  'Friends':{level:0,school:'Enchantment',castingTime:'Action',range:'10 feet',components:'S, M (some makeup)',duration:'Concentration, up to 1 minute',description:'You magically emanate a sense of friendship toward one creature you can see within range. The target must succeed on a Wisdom saving throw or have the Charmed condition for the duration. The target succeeds automatically if it isn\'t a Humanoid, if you\'re fighting it, or if you have cast this spell on it within the past 24 hours.\nThe spell ends early if the target takes damage or if you make an attack roll, deal damage, or force anyone to make a saving throw. When the spell ends, the target knows it was Charmed by you.',name:'Friends'},
  'Guidance':{level:0,school:'Divination',castingTime:'Action',range:'Touch',components:'V, S',duration:'Concentration, up to 1 minute',description:'You touch a willing creature and choose a skill. Until the spell ends, the creature adds 1d4 to any ability check using the chosen skill.',name:'Guidance'},
  'Light':{level:0,school:'Evocation',castingTime:'Action',range:'Touch',components:'V, M (a firefly or phosphorescent moss)',duration:'1 hour',description:'You touch one Large or smaller object that isn\'t being worn or carried by someone else. Until the spell ends, the object sheds Bright Light in a 20-foot radius and Dim Light for an additional 20 feet. The light can be colored as you like.\nCovering the object with something opaque blocks the light. The spell ends if you cast it again.',name:'Light'},
  'Mage Hand':{level:0,school:'Conjuration',castingTime:'Action',range:'30 feet',components:'V, S',duration:'1 minute',description:'A spectral, floating hand appears at a point you choose within range. The hand lasts for the duration. The hand vanishes if it is ever more than 30 feet away from you or if you cast this spell again.\nWhen you cast the spell, you can use the hand to manipulate an object, open an unlocked door or container, stow or retrieve an item from an open container, or pour the contents out of a vial.\nAs a Magic action on your later turns, you can control the hand thus again. As part of that action, you can move the hand up to 30 feet.\nThe hand can\'t attack, activate magic items, or carry more than 10 pounds.',name:'Mage Hand'},
  'Mending':{level:0,school:'Transmutation',castingTime:'1 minute',range:'Touch',components:'V, S, M (two lodestones)',duration:'Instantaneous',description:'This spell repairs a single break or tear in an object you touch, such as a broken chain link, two halves of a broken key, a torn cloak, or a leaking wineskin. As long as the break or tear is no larger than 1 foot in any dimension, you mend it, leaving no trace of the former damage.\nThis spell can physically repair a magic item, but it can\'t restore magic to such an object.',name:'Mending'},
  'Message':{level:0,school:'Transmutation',castingTime:'Action',range:'120 feet',components:'S, M (a copper wire)',duration:'1 round',description:'You point toward a creature within range and whisper a message. The target (and only the target) hears the message and can reply in a whisper that only you can hear.\nYou can cast this spell through solid objects if you are familiar with the target and know it is beyond the barrier. Magical silence; 1 foot of stone, metal, or wood; or a thin sheet of lead blocks the spell.',name:'Message'},
  'Mind Sliver': {name: 'Mind Sliver', level: 0, school: 'Enchantment', castingTime: 'Action', range: '60 feet', components: 'V', duration: '1 round', description: 'You try to temporarily sliver the mind of one creature you can see within range. The target must succeed on an Intelligence saving throw or take 1d6 Psychic damage and subtract 1d4 from the next saving throw it makes before the end of your next turn.\n\nCantrip Upgrade. The damage increases by 1d6 when you reach levels 5 (2d6), 11 (3d6), and 17 (4d6).'},
  'Minor Illusion': {name: 'Minor Illusion', level: 0, school: 'Illusion', castingTime: 'Action', range: '30 feet', components: 'S, M (a bit of fleece)', duration: '1 minute', description: 'You create a sound or an image of an object within range that lasts for the duration. The illusion ends if you cast this spell again.\nIf a creature takes a Study action to examine the sound or image, the creature can determine that it is an illusion with a successful Intelligence (Investigation) check against your spell save DC. If a creature discerns the illusion for what it is, the illusion becomes faint to the creature.\nSound. If you create a sound, its volume can range from a whisper to a scream. It can be your voice, someone else\'s voice, a lion\'s roar, a beating of drums, or any other sound you choose. The sound continues unabated throughout the duration, or you can make discrete sounds at different times before the spell ends.\nImage. If you create an image of an object—such as a chair, muddy footprints, or a small chest—it must be no larger than a 5-foot Cube. The image can\'t create sound, light, smell, or any other sensory effect. Physical interaction with the image reveals it to be an illusion, since things can pass through it.'},
  'Poison Spray': {name: 'Poison Spray', level: 0, school: 'Necromancy', castingTime: 'Action', range: '30 feet', components: 'V, S', duration: 'Instantaneous', description: 'You spray toxic mist at a creature within range. Make a ranged spell attack against the target. On a hit, the target takes 1d12 Poison damage.\n\nCantrip Upgrade. The damage increases by 1d12 when you reach levels 5 (2d12), 11 (3d12), and 17 (4d12).'},
  'Prestidigitation': {name: 'Prestidigitation', level: 0, school: 'Transmutation', castingTime: 'Action', range: '10 feet', components: 'V, S', duration: 'Up to 1 hour', description: 'You create a magical effect within range. Choose the effect from the options below. If you cast this spell multiple times, you can have up to three of its non-instantaneous effects active at a time.\nSensory Effect. You create an instantaneous, harmless sensory effect, such as a shower of sparks, a puff of wind, faint musical notes, or an odd odor.\nFire Play. You instantaneously light or snuff out a candle, a torch, or a small campfire.\nClean or Soil. You instantaneously clean or soil an object no larger than 1 cubic foot.\nMinor Sensation. You chill, warm, or flavor up to 1 cubic foot of nonliving material for 1 hour.\nMagic Mark. You make a color, a small mark, or a symbol appear on an object or a surface for 1 hour.\nMinor Creation. You create a nonmagical trinket or an illusory image that can fit in your hand. It lasts until the end of your next turn. A trinket can deal no damage and has no monetary worth.'},
  'Produce Flame': {name: 'Produce Flame', level: 0, school: 'Conjuration', castingTime: 'Bonus Action', range: 'Self', components: 'V, S', duration: '10 minutes', description: 'A flickering flame appears in your hand and remains there for the duration. While there, the flame emits no heat and ignites nothing, and it sheds Bright Light in a 20-foot radius and Dim Light for an additional 20 feet. The spell ends if you cast it again.\nUntil the spell ends, you can take a Magic action to hurl fire at a creature or an object within 60 feet of you. Make a ranged spell attack. On a hit, the target takes 1d8 Fire damage.\n\nCantrip Upgrade. The damage increases by 1d8 when you reach levels 5 (2d8), 11 (3d8), and 17 (4d8).'},
  'Ray of Frost': {name: 'Ray of Frost', level: 0, school: 'Evocation', castingTime: 'Action', range: '60 feet', components: 'V, S', duration: 'Instantaneous', description: 'A frigid beam of blue-white light streaks toward a creature within range. Make a ranged spell attack against the target. On a hit, it takes 1d8 Cold damage, and its Speed is reduced by 10 feet until the start of your next turn.\n\nCantrip Upgrade. The damage increases by 1d8 when you reach levels 5 (2d8), 11 (3d8), and 17 (4d8).'},
  'Resistance': {name: 'Resistance', level: 0, school: 'Abjuration', castingTime: 'Action', range: 'Touch', components: 'V, S', duration: 'Concentration, up to 1 minute', description: 'You touch a willing creature and choose a damage type: Acid, Bludgeoning, Cold, Fire, Lightning, Necrotic, Piercing, Poison, Radiant, Slashing, or Thunder. When the creature takes damage of the chosen type before the spell ends, the creature reduces the total damage taken by 1d4. A creature can benefit from this spell only once per turn.'},
  'Sacred Flame': {name: 'Sacred Flame', level: 0, school: 'Evocation', castingTime: 'Action', range: '60 feet', components: 'V, S', duration: 'Instantaneous', description: 'Flame-like radiance descends on a creature that you can see within range. The target must succeed on a Dexterity saving throw or take 1d8 Radiant damage. The target gains no benefit from Half Cover or Three-Quarters Cover for this save.\n\nCantrip Upgrade. The damage increases by 1d8 when you reach levels 5 (2d8), 11 (3d8), and 17 (4d8).'},
  'Shillelagh': {name: 'Shillelagh', level: 0, school: 'Transmutation', castingTime: 'Bonus Action', range: 'Self', components: 'V, S, M (mistletoe)', duration: '1 minute', description: 'A Club or Quarterstaff you are holding is imbued with nature\'s power. For the duration, you can use your spellcasting ability instead of Strength for the attack and damage rolls of melee attacks using that weapon, and the weapon\'s damage die becomes a d8. If the attack deals damage, it can be Force damage or the weapon\'s normal damage type (your choice).\nThe spell ends early if you cast it again or if you let go of the weapon.\n\nCantrip Upgrade. The weapon\'s damage die changes when you reach levels 5 (d10), 11 (d12), and 17 (2d6).'},
  'Shocking Grasp': {name: 'Shocking Grasp', level: 0, school: 'Evocation', castingTime: 'Action', range: 'Touch', components: 'V, S', duration: 'Instantaneous', description: 'Lightning springs from you to a creature that you try to touch. Make a melee spell attack against the target. On a hit, the target takes 1d8 Lightning damage, and it can\'t make Opportunity Attacks until the start of its next turn.\n\nCantrip Upgrade. The damage increases by 1d8 when you reach levels 5 (2d8), 11 (3d8), and 17 (4d8).'},
  'Sorcerous Burst': {name: 'Sorcerous Burst', level: 0, school: 'Evocation', castingTime: 'Action', range: '120 feet', components: 'V, S', duration: 'Instantaneous', description: 'You cast sorcerous energy at one creature or object within range. Make a ranged attack roll against the target. On a hit, the target takes 1d8 damage of a type you choose: Acid, Cold, Fire, Lightning, Poison, Psychic, or Thunder.\nIf you roll an 8 on a d8 for this spell, you can roll another d8, and add it to the damage. When you cast this spell, the maximum number of these d8s you can add to the spell\'s damage equals your spellcasting ability modifier.\n\nCantrip Upgrade. This damage increases by 1d8 when you reach level 5 (2d8), 11 (3d8), and 17 (4d8).'},
  'Spare the Dying': {name: 'Spare the Dying', level: 0, school: 'Necromancy', castingTime: 'Action', range: '15 feet', components: 'V, S', duration: 'Instantaneous', description: 'Choose a creature within range that has o Hit Points and isn\'t dead. The creature becomes Stable.\n\nCantrip Upgrade. The range doubles when you reach levels 5 (30 feet), 11 (60 feet), and 17 (120 feet).'},
  'Starry Wisp': {name: 'Starry Wisp', level: 0, school: 'Evocation', castingTime: 'Action', range: '60 feet', components: 'V, S', duration: 'Instantaneous', description: 'You launch a mote of light at one creature or object within range. Make a ranged spell attack against the target. On a hit, the target takes 1d8 Radiant damage, and until the end of your next turn, it emits Dim Light in a 10-foot radius and can\'t benefit from the Invisible condition.\n\nCantrip Upgrade. The damage increases by 1d8 when you reach levels 5 (2d8), 11 (3d8), and 17 (4d8).'},
  'Thaumaturgy': {name: 'Thaumaturgy', level: 0, school: 'Transmutation', castingTime: 'Action', range: '30 feet', components: 'V', duration: 'Up to 1 minute', description: 'You manifest a minor wonder within range. You create one of the effects below within range. If you cast this spell multiple times, you can have up to three of its 1-minute effects active at a time.\nAltered Eyes. You alter the appearance of your eyes for 1 minute.\nBooming Voice. Your voice booms up to three times as loud as normal for 1 minute. For the duration, you have Advantage on Charisma (Intimidation) checks.\nFire Play. You cause flames to flicker, brighten, dim, or change color for 1 minute.\nInvisible Hand. You instantaneously cause an unlocked door or window to fly open or slam shut.\nPhantom Sound. You create an instantaneous sound that originates from a point of your choice within range, such as a rumble of thunder, the cry of a raven, or ominous whispers.\nTremors. You cause harmless tremors in the ground for 1 minute.'},
  'Thorn Whip': {name: 'Thorn Whip', level: 0, school: 'Transmutation', castingTime: 'Action', range: '30 feet', components: 'V, S, M (the stem of a thorny plant)', duration: 'Instantaneous', description: 'You create a vine-like whip covered in thorns that lashes out at your command toward a creature in range. Make a melee spell attack against the target. On a hit, the target takes 1d6 Piercing damage, and if it is Large or smaller, you can pull it up to 10 feet closer to you.\n\nCantrip Upgrade. The damage increases by 1d6 when you reach levels 5 (2d6), 11 (3d6), and 17 (4d6).'},
  'Thunderclap': {name: 'Thunderclap', level: 0, school: 'Evocation', castingTime: 'Action', range: 'Self', components: 'S', duration: 'Instantaneous', description: 'Each creature in a 5-foot Emanation originating from you must succeed on a Constitution saving throw or take 1d6 Thunder damage. The spell\'s thunderous sound can be heard up to 100 feet away.\n\nCantrip Upgrade. The damage increases by 1d6 when you reach levels 5 (2d6), 11 (3d6), and 17 (4d6).'},
  'Toll the Dead': {name: 'Toll the Dead', level: 0, school: 'Necromancy', castingTime: 'Action', range: '60 feet', components: 'V, S', duration: 'Instantaneous', description: 'You point at one creature you can see within range, and the single chime of a dolorous bell is audible within 10 feet of the target. The target must succeed on a Wisdom saving throw or take 1d8 Necrotic damage. If the target is missing any of its Hit Points it instead takes 1d12 Necrotic damage.\n\nCantrip Upgrade. The damage increases by one die when you reach levels 5 (2d8 or 2d12), 11 (3d8 or 3d12), and 17 (4d8 or 4d12).'},
  'True Strike': {name: 'True Strike', level: 0, school: 'Divination', castingTime: 'Action', range: 'Self', components: 'S, M (a weapon with which you have proficiency and that is worth 1+ CP)', duration: 'Instantaneous', description: 'Guided by a flash of magical insight, you make one attack with the weapon used in the spell\'s casting. The attack uses your spellcasting ability for the attack and damage rolls instead of using Strength or Dexterity. If the attack deals damage, it can be Radiant damage or the weapon\'s normal damage type (your choice).\n\nCantrip Upgrade. Whether you deal Radiant damage or the weapon\'s normal damage type, the attack deals extra Radiant damage when you reach levels 5 (1d6), 11 (2d6), and 17 (3d6).'},
  'Vicious Mockery':{level:0,school:'Enchantment',castingTime:'Action',range:'60 feet',components:'V',duration:'Instantaneous',description:'You unleash a string of insults laced with subtle enchantments at one creature you can see or hear within range. The target must succeed on a Wisdom saving throw or take 1d6 Psychic damage and have Disadvantage on the next attack roll it makes before the end of its next turn.\n\nCantrip Upgrade. The damage increases by 1d6 when you reach levels 5 (2d6), 11 (3d6), and 17 (4d6).',name:'Vicious Mockery'},
  'Word of Radiance': {name: 'Word of Radiance', level: 0, school: 'Evocation', castingTime: 'Action', range: 'Self', components: 'V, M (a sunburst token)', duration: 'Instantaneous', description: 'Burning radiance erupts from you in a 5-foot Emanation. Each creature of your choice that you can see in it must succeed on a Constitution saving throw or take 1d6 Radiant damage.\n\nCantrip Upgrade. The damage increases by 1d6 when you reach levels 5 (2d6), 11 (3d6), and 17 (4d6).'},

  // Level 1 Spells
  'Alarm':{level:1,school:'Abjuration',castingTime:'1 minute or Ritual',range:'30 feet',components:'V, S, M (a bell and silver wire)',duration:'8 hours',description:'You set an alarm against intrusion. Choose a door, a window, or an area within range that is no larger than a 20-foot Cube. Until the spell ends, an alarm alerts you whenever a creature touches or enters the warded area. When you cast the spell, you can designate creatures that won\'t set off the alarm. You also choose whether the alarm is audible or mental:\nAudible Alarm. The alarm produces the sound of a handbell for 10 seconds within 60 feet of the warded area.\nMental Alarm. You are alerted by a mental ping if you are within 1 mile of the warded area. This ping awakens you if you\'re asleep.',name:'Alarm'},
  'Animal Friendship':{level:1,school:'Enchantment',castingTime:'Action',range:'30 feet',components:'V, S, M (a morsel of food)',duration:'24 hours',description:'Target a Beast that you can see within range. The target must succeed on a Wisdom saving throw or have the Charmed condition for the duration. If you or one of your allies deals damage to the target, the spell ends.\nUsing a Higher-Level Spell Slot. You can target one additional Beast for each spell slot level above 1.',name:'Animal Friendship'},
  'Armor of Agathys':{level:1,school:'Abjuration',castingTime:'Bonus Action',range:'Self',components:'V, S, M (a shard of blue glass)',duration:'1 hour',description:'Protective magical frost surrounds you. You gain 5 Temporary Hit Points. If a creature hits you with a melee attack roll before the spell ends, the creature takes 5 Cold damage. The spell ends early if you have no Temporary Hit Points.\nUsing a Higher-Level Spell Slot. The Temporary Hit Points and the Cold damage both increase by 5 for each spell slot level above 1.',name:'Armor of Agathys'},
  'Arms of Hadar':{level:1,school:'Conjuration',castingTime:'Action',range:'Self',components:'V, S',duration:'Instantaneous',description:'Invoking Hadar, you cause tendrils to erupt from yourself. Each creature in a 10-foot Emanation originating from you makes a Strength saving throw. On a failed save, a target takes 2d6 Necrotic damage and can\'t take Reactions until the start of its next turn. On a successful save, a target takes half as much damage only.\nUsing a Higher-Level Spell Slot. The damage increases by 1d6 for each spell slot level above 1.',name:'Arms of Hadar'},
  'Bane':{level:1,school:'Enchantment',castingTime:'Action',range:'30 feet',components:'V, S, M (a drop of blood)',duration:'Concentration, up to 1 minute',description:'Up to three creatures of your choice that you can see within range must each make a Charisma saving throw. Whenever a target that fails this save makes an attack roll or a saving throw before the spell ends, the target must subtract 1d4 from the attack roll or save.\nUsing a Higher-Level Spell Slot. You can target one additional creature for each spell slot level above 1.',name:'Bane'},
  'Bless':{level:1,school:'Enchantment',castingTime:'Action',range:'30 feet',components:'V, S, M (a Holy Symbol, worth 5+ GP)',duration:'Concentration, up to 1 minute',description:'You bless up to three creatures within range. Whenever a target makes an attack roll or a saving throw before the spell ends, the target adds 1d4 to the attack roll or save.\nUsing a Higher-Level Spell Slot. You can target one additional creature for each spell slot level above 1.',name:'Bless'},
  'Burning Hands':{level:1,school:'Evocation',castingTime:'Action',range:'Self',components:'V, S',duration:'Instantaneous',description:'A thin sheet of flames shoots forth from you. Each creature in a 15-foot Cone makes a Dexterity saving throw, taking 3d6 Fire damage on a failed save or half as much damage on a successful one.\nFlammable objects in the Cone that aren\'t being worn or carried start burning.\nUsing a Higher-Level Spell Slot. The damage increases by 1d6 for each spell slot level above 1.',name:'Burning Hands'},
  'Charm Person':{level:1,school:'Enchantment',castingTime:'Action',range:'30 feet',components:'V, S',duration:'1 hour',description:'One Humanoid you can see within range makes a Wisdom saving throw. It does so with Advantage if you or your allies are fighting it. On a failed save, the target has the Charmed condition until the spell ends or until you or your allies damage it. The Charmed creature is Friendly to you. When the spell ends, the target knows it was Charmed by you.\nUsing a Higher-Level Spell Slot. You can target one additional creature for each spell slot level above 1.',name:'Charm Person'},
  'Chromatic Orb':{level:1,school:'Evocation',castingTime:'Action',range:'90 feet',components:'V, S, M (a diamond worth 50+ GP)',duration:'Instantaneous',description:'You hurl an orb of energy at a target within range. Choose Acid, Cold, Fire, Lightning, Poison, or Thunder for the type of orb you create, and then make a ranged spell attack against the target. On a hit, the target takes 3d8 damage of the chosen type.\nIf you roll the same number on two or more of the d8s, the orb leaps to a different target of your choice within 30 feet of the target. Make an attack roll against the new target, and make a new damage roll. The orb can\'t leap again unless you cast the spell with a level 2+ spell slot.\nUsing a Higher-Level Spell Slot. The damage increases by 1d8 for each spell slot level above 1. The orb can leap a maximum number of times equal to the level of the slot expended, and a creature can be targeted only once by each casting of this spell.',name:'Chromatic Orb'},
  'Color Spray':{level:1,school:'Illusion',castingTime:'Action',range:'Self',components:'V, S, M (a pinch of colorful sand)',duration:'Instantaneous',description:'You launch a dazzling array of flashing, colorful light. Each creature in a 15-foot Cone originating from you must succeed on a Constitution saving throw or have the Blinded condition until the end of your next turn.',name:'Color Spray'},
  'Command':{level:1,school:'Enchantment',castingTime:'Action',range:'60 feet',components:'V',duration:'Instantaneous',description:'You speak a one-word command to a creature you can see within range. The target must succeed on a Wisdom saving throw or follow the command on its next turn. Choose the command from these options:\nApproach. The target moves toward you by the shortest and most direct route, ending its turn if it moves within 5 feet of you.\nDrop. The target drops whatever it is holding and then ends its turn.\nFlee. The target spends its turn moving away from you by the fastest available means.\nGrovel. The target has the Prone condition and then ends its turn.\nHalt. On its turn, the target doesn\'t move and takes no action or Bonus Action.\nUsing a Higher-Level Spell Slot. You can affect one additional creature for each spell slot level above 1.',name:'Command'},
  'Compelled Duel':{level:1,school:'Enchantment',castingTime:'Bonus Action',range:'30 feet',components:'V',duration:'Concentration, up to 1 minute',description:'You try to compel a creature into a duel. One creature that you can see within range makes a Wisdom saving throw. On a failed save, the target has Disadvantage on attack rolls against creatures other than you, and it can\'t willingly move to a space that is more than 30 feet away from you.\nThe spell ends if you make an attack roll against a creature other than the target, if you cast a spell on an enemy other than the target, if an ally of yours damages the target, or if you end your turn more than 30 feet away from the target.',name:'Compelled Duel'},
  'Comprehend Languages':{level:1,school:'Divination',castingTime:'Action or Ritual',range:'Self',components:'V, S, M (a pinch of soot and salt)',duration:'1 hour',description:'For the duration, you understand the literal meaning of any language that you hear or see signed. You also understand any written language that you see, but you must be touching the surface on which the words are written. It takes about 1 minute to read one page of text. This spell doesn\'t decode symbols or secret messages.',name:'Comprehend Languages'},
  'Create or Destroy Water':{level:1,school:'Transmutation',castingTime:'Action',range:'30 feet',components:'V, S, M (a mix of water and sand)',duration:'Instantaneous',description:'You do one of the following:\nCreate Water. You create up to 10 gallons of clean water within range in an open container. Alternatively, the water falls as rain in a 30-foot Cube within range, extinguishing exposed flames there.\nDestroy Water. You destroy up to 10 gallons of water in an open container within range. Alternatively, you destroy fog in a 30-foot Cube within range.\nUsing a Higher-Level Spell Slot. You create or destroy 10 additional gallons of water, or the size of the Cube increases by 5 feet, for each spell slot level above 1.',name:'Create or Destroy Water'},
  'Cure Wounds':{level:1,school:'Abjuration',castingTime:'Action',range:'Touch',components:'V, S',duration:'Instantaneous',description:'A creature you touch regains a number of Hit Points equal to 2d8 plus your spellcasting ability modifier.\nUsing a Higher-Level Spell Slot. The healing increases by 2d8 for each spell slot level above 1.',name:'Cure Wounds'},
  'Detect Evil and Good':{level:1,school:'Divination',castingTime:'Action',range:'Self',components:'V, S',duration:'Concentration, up to 10 minutes',description:'For the duration, you sense the location of any Aberration, Celestial, Elemental, Fey, Fiend, or Undead within 30 feet of yourself. You also sense whether the Hallow spell is active there and, if so, where.\nThe spell is blocked by 1 foot of stone, dirt, or wood; 1 inch of metal; or a thin sheet of lead.',name:'Detect Evil and Good'},
  'Detect Magic':{level:1,school:'Divination',castingTime:'Action or Ritual',range:'Self',components:'V, S',duration:'Concentration, up to 10 minutes',description:'For the duration, you sense the presence of magical effects within 30 feet of yourself. If you sense such effects, you can take the Magic action to see a faint aura around any visible creature or object in the area that bears the magic, and if an effect was created by a spell, you learn the spell\'s school of magic.\nThe spell is blocked by 1 foot of stone, dirt, or wood; 1 inch of metal; or a thin sheet of lead.',name:'Detect Magic'},
  'Detect Poison and Disease':{name:'Detect Poison and Disease',level:1,school:'Divination',castingTime:'Action or Ritual',range:'Self',components:'V, S, M (a yew leaf)',duration:'Concentration, up to 10 minutes',description:'For the duration, you sense the location of poisons, poisonous or venomous creatures, and magical contagions within 30 feet of yourself. You sense the kind of poison, creature, or contagion in each case.\nThe spell is blocked by 1 foot of stone, dirt, or wood; 1 inch of metal; or a thin sheet of lead.'},
  'Disguise Self':{name:'Disguise Self',level:1,school:'Illusion',castingTime:'Action',range:'Self',components:'V, S',duration:'1 hour',description:'You make yourself—including your clothing, armor, weapons, and other belongings on your person—look different until the spell ends. You can seem 1 foot shorter or taller and can appear heavier or lighter. You must adopt a form that has the same basic arrangement of limbs as you have. Otherwise, the extent of the illusion is up to you.\nThe changes wrought by this spell fail to hold up to physical inspection. For example, if you use this spell to add a hat to your outfit, objects pass through the hat, and anyone who touches it would feel nothing.\nTo discern that you are disguised, a creature must take the Study action to inspect your appearance and succeed on an Intelligence (Investigation) check against your spell save DC.'},
  'Dissonant Whispers':{name:'Dissonant Whispers',level:1,school:'Enchantment',castingTime:'Action',range:'60 feet',components:'V',duration:'Instantaneous',description:'One creature of your choice that you can see within range hears a discordant melody in its mind. The target makes a Wisdom saving throw. On a failed save, it takes 3d6 Psychic damage and must immediately use its Reaction, if available, to move as far away from you as it can, using the safest route. On a successful save, the target takes half as much damage only.\nUsing a Higher-Level Spell Slot. The damage increases by 1d6 for each spell slot level above 1.'},
  'Divine Favor':{name:'Divine Favor',level:1,school:'Transmutation',castingTime:'Bonus Action',range:'Self',components:'V, S',duration:'1 minute',description:'Until the spell ends, your attacks with weapons deal an extra 1d4 Radiant damage on a hit.'},
  'Divine Smite':{name:'Divine Smite',level:1,school:'Evocation',castingTime:'Bonus Action, which you take immediately after hitting a target with a Melee weapon or an Unarmed Strike',range:'Self',components:'V',duration:'Instantaneous',description:'The target takes an extra 2d8 Radiant damage from the attack. The damage increases by 1d8 if the target is a Fiend or an Undead.\nUsing a Higher-Level Spell Slot. The damage increases by 1d8 for each spell slot level above 1.'},
  'Ensnaring Strike':{name:'Ensnaring Strike',level:1,school:'Conjuration',castingTime:'Bonus Action, which you take immediately after hitting a creature with a weapon',range:'Self',components:'V',duration:'Concentration, up to 1 minute',description:'As you hit the target, grasping vines appear on it, and it makes a Strength saving throw. A Large or larger creature has Advantage on this save. On a failed save, the target has the Restrained condition until the spell ends. On a successful save, the vines shrivel away, and the spell ends.\nWhile Restrained, the target takes 1d6 Piercing damage at the start of each of its turns. The target or a creature within reach of it can take an action to make a Strength (Athletics) check against your spell save DC. On a success, the spell ends.\nUsing a Higher-Level Spell Slot. The damage increases by 1d6 for each spell slot level above 1.'},
  'Entangle':{name:'Entangle',level:1,school:'Conjuration',castingTime:'Action',range:'90 feet',components:'V, S',duration:'Concentration, up to 1 minute',description:'Grasping plants sprout from the ground in a 20-foot square within range. For the duration, these plants turn the ground in the area into Difficult Terrain. They disappear when the spell ends.\nEach creature (other than you) in the area when you cast the spell must succeed on a Strength saving throw or have the Restrained condition until the spell ends. A Restrained creature can take an action to make a Strength (Athletics) check against your spell save DC. On a success, it frees itself from the grasping plants and is no longer Restrained by them.'},
  'Expeditious Retreat':{name:'Expeditious Retreat',level:1,school:'Transmutation',castingTime:'Bonus Action',range:'Self',components:'V, S',duration:'Concentration, up to 10 minutes',description:'You take the Dash action, and until the spell ends, you can take that action again as a Bonus Action.'},
  'Faerie Fire':{name:'Faerie Fire',level:1,school:'Evocation',castingTime:'Action',range:'60 feet',components:'V',duration:'Concentration, up to 1 minute',description:'Objects in a 20-foot Cube within range are outlined in blue, green, or violet light (your choice). Each creature in the Cube is also outlined if it fails a Dexterity saving throw. For the duration, objects and affected creatures shed Dim Light in a 10-foot radius and can\'t benefit from the Invisible condition.\nAttack rolls against an affected creature or object have Advantage if the attacker can see it.'},
  'False Life':{name:'False Life',level:1,school:'Necromancy',castingTime:'Action',range:'Self',components:'V, S, M (a drop of alcohol)',duration:'Instantaneous',description:'You gain 2d4 + 4 Temporary Hit Points.\nUsing a Higher-Level Spell Slot. You gain 5 additional Temporary Hit Points for each spell slot level above 1.'},
  'Feather Fall':{name:'Feather Fall',level:1,school:'Transmutation',castingTime:'Reaction, which you take when you or a creature you can see within 60 feet of you falls',range:'60 feet',components:'V, M (a small feather or piece of down)',duration:'1 minute',description:'Choose up to five falling creatures within range. A falling creature\'s rate of descent slows to 60 feet per round until the spell ends. If a creature lands before the spell ends, the creature takes no damage from the fall, and the spell ends for that creature.'},
  'Find Familiar':{name:'Find Familiar',level:1,school:'Conjuration',castingTime:'1 hour or Ritual',range:'10 feet',components:'V, S, M (burning incense worth 10+ GP, which the spell consumes)',duration:'Instantaneous',description:'You gain the service of a familiar, a spirit that takes an animal form you choose: Bat, Cat, Frog, Hawk, Lizard, Octopus, Owl, Rat, Raven, Spider, Weasel, or another Beast that has a Challenge Rating of o. Appearing in an unoccupied space within range, the familiar has the statistics of the chosen form, though it is a Celestial, Fey, or Fiend (your choice) instead of a Beast. Your familiar acts independently of you, but it obeys your commands.\nTelepathic Connection. While your familiar is within 100 feet of you, you can communicate with it telepathically. Additionally, as a Bonus Action, you can see through the familiar\'s eyes and hear what it hears until the start of your next turn, gaining the benefits of any special senses it has.\nFinally, when you cast a spell with a range of touch, your familiar can deliver the touch. Your familiar must be within 100 feet of you, and it must take a Reaction to deliver the touch when you cast the spell.\nCombat. The familiar is an ally to you and your allies. It rolls its own Initiative and acts on its own turn. A familiar can\'t attack, but it can take other actions as normal.\nDisappearance of the Familiar. When the familiar drops to o Hit Points, it disappears. It reappears after you cast this spell again. As a Magic action, you can temporarily dismiss the familiar to a pocket dimension. Alternatively, you can dismiss it forever. As a Magic action while it is temporarily dismissed, you can cause it to reappear in an unoccupied space within 30 feet of you. Whenever the familiar drops to o Hit Points or disappears into the pocket dimension, it leaves behind in its space anything it was wearing or carrying.\nOne Familiar Only. You can\'t have more than one familiar at a time. If you cast this spell while you have a familiar, you instead cause it to adopt a new eligible form.'},
  'Fog Cloud':{name:'Fog Cloud',level:1,school:'Conjuration',castingTime:'Action',range:'120 feet',components:'V, S',duration:'Concentration, up to 1 hour',description:'You create a 20-foot-radius Sphere of fog centered on a point within range. The Sphere is Heavily Obscured. It lasts for the duration or until a strong wind (such as one created by Gust of Wind) disperses it.\nUsing a Higher-Level Spell Slot. The fog\'s radius increases by 20 feet for each spell slot level above 1.'},
  'Goodberry':{name:'Goodberry',level:1,school:'Conjuration',castingTime:'Action',range:'Self',components:'V, S, M (a sprig of mistletoe)',duration:'24 hours',description:'Ten berries appear in your hand and are infused with magic for the duration. A creature can take a Bonus Action to eat one berry. Eating a berry restores 1 Hit Point, and the berry provides enough nourishment to sustain a creature for one day.\nUneaten berries disappear when the spell ends.'},
  'Grease':{name:'Grease',level:1,school:'Conjuration',castingTime:'Action',range:'60 feet',components:'V, S, M (a bit of pork rind or butter)',duration:'1 minute',description:'Nonflammable grease covers the ground in a 10-foot square centered on a point within range and turns it into Difficult Terrain for the duration.\nWhen the grease appears, each creature standing in its area must succeed on a Dexterity saving throw or have the Prone condition. A creature that enters the area or ends its turn there must also succeed on that save or fall Prone.'},
  'Guiding Bolt':{level:1,school:'Evocation',castingTime:'Action',range:'120 feet',components:'V, S',duration:'1 round',description:'You hurl a bolt of light toward a creature within range. Make a ranged spell attack against the target. On a hit, it takes 4d6 Radiant damage, and the next attack roll made against it before the end of your next turn has Advantage.\n\nUsing a Higher-Level Spell Slot. The damage increases by 1d6 for each spell slot level above 1.',name:'Guiding Bolt'},
  'Hail of Thorns':{name:'Hail of Thorns',level:1,school:'Conjuration',castingTime:'Bonus Action, which you take immediately after hitting a creature with a Ranged weapon',range:'Self',components:'V',duration:'Instantaneous',description:'As you hit the creature, this spell creates a rain of thorns that sprouts from your Ranged weapon or ammunition. The target of the attack and each creature within 5 feet of it make a Dexterity saving throw, taking 1d10 Piercing damage on a failed save or half as much damage on a successful one.\nUsing a Higher-Level Spell Slot. The damage increases by 1d10 for each spell slot level above 1.'},
  'Healing Word':{level:1,school:'Abjuration',castingTime:'Bonus Action',range:'60 feet',components:'V',duration:'Instantaneous',description:'A creature of your choice that you can see within range regains Hit Points equal to 2d4 plus your spellcasting ability modifier.\n\nUsing a Higher-Level Spell Slot. The healing increases by 2d4 for each spell slot level above 1.',name:'Healing Word'},
  'Hellish Rebuke':{name:'Hellish Rebuke',level:1,school:'Evocation',castingTime:'Reaction, which you take in response to taking damage from a creature that you can see within 60 feet of yourself',range:'60 feet',components:'V, S',duration:'Instantaneous',description:'The creature that damaged you is momentarily surrounded by green flames. It makes a Dexterity saving throw, taking 2d10 Fire damage on a failed save or half as much damage on a successful one.\nUsing a Higher-Level Spell Slot. The damage increases by 1d10 for each spell slot level above 1.'},
  'Heroism':{name:'Heroism',level:1,school:'Enchantment',castingTime:'Action',range:'Touch',components:'V, S',duration:'Concentration, up to 1 minute',description:'A willing creature you touch is imbued with bravery. Until the spell ends, the creature is immune to the Frightened condition and gains Temporary Hit Points equal to your spellcasting ability modifier at the start of each of its turns.\nUsing a Higher-Level Spell Slot. You can target one additional creature for each spell slot level above 1.'},
  'Hex':{level:1,school:'Enchantment',castingTime:'Bonus Action',range:'90 feet',components:'V, S, M (the petrified eye of a newt)',duration:'Concentration, up to 1 hour',description:'You place a curse on a creature that you can see within range. Until the spell ends, you deal an extra 1d6 Necrotic damage to the target whenever you hit it with an attack roll. Also, choose one ability when you cast the spell. The target has Disadvantage on ability checks made with the chosen ability.\nIf the target drops to 0 Hit Points before this spell ends, you can take a Bonus Action on a later turn to curse a new creature.\n\nUsing a Higher-Level Spell Slot. Your Concentration can last longer with a spell slot of level 2 (up to 4 hours), 3-4 (up to 8 hours), or 5+ (up to 24 hours).',name:'Hex'},
  'Hunter\'s Mark':{name:'Hunter\'s Mark',level:1,school:'Divination',castingTime:'Bonus Action',range:'90 feet',components:'V',duration:'Concentration, up to 1 hour',description:'You magically mark one creature you can see within range as your quarry. Until the spell ends, you deal an extra 1d6 Force damage to the target whenever you hit it with an attack roll. You also have Advantage on any Wisdom (Perception or Survival) check you make to find it.\nIf the target drops to o Hit Points before this spell ends, you can use a Bonus Action to mark a new creature you can see within range.\nUsing a Higher-Level Spell Slot. Your Concentration can last longer with a spell slot of level 3–4 (up to 8 hours) or 5+ (up to 24 hours).'},
  'Ice Knife':{name:'Ice Knife',level:1,school:'Conjuration',castingTime:'Action',range:'60 feet',components:'S, M (a drop of water or a piece of ice)',duration:'Instantaneous',description:'You create a shard of ice and fling it at one creature within range. Make a ranged spell attack against the target. On a hit, the target takes 1d10 Piercing damage. Hit or miss, the shard then explodes. The target and each creature within 5 feet of it must succeed on a Dexterity saving throw or take 2d6 Cold damage.\nUsing a Higher-Level Spell Slot. The Cold damage increases by 1d6 for each spell slot level above 1.'},
  'Identify':{name:'Identify',level:1,school:'Divination',castingTime:'1 minute or Ritual',range:'Touch',components:'V, S, M (a pearl worth 100+ GP)',duration:'Instantaneous',description:'You touch an object throughout the spell\'s casting. If the object is a magic item or some other magical object, you learn its properties and how to use them, whether it requires Attunement, and how many charges it has, if any. You learn whether any ongoing spells are affecting the item and what they are. If the item was created by a spell, you learn that spell\'s name.\nIf you instead touch a creature throughout the casting, you learn which ongoing spells, if any, are currently affecting it.'},
  'Illusory Script':{name:'Illusory Script',level:1,school:'Illusion',castingTime:'1 minute or Ritual',range:'Touch',components:'S, M (ink worth 10+ GP, which the spell consumes)',duration:'10 days',description:'You write on parchment, paper, or another suitable material and imbue it with an illusion that lasts for the duration. To you and any creatures you designate when you cast the spell, the writing appears normal, seems to be written in your hand, and conveys whatever meaning you intended when you wrote the text. To all others, the writing appears as if it were written in an unknown or magical script that is unintelligible. Alternatively, the illusion can alter the meaning, handwriting, and language of the text, though the language must be one you know.\nIf the spell is dispelled, the original script and the illusion both disappear.\nA creature that has Truesight can read the hidden message.'},
  'Inflict Wounds':{name:'Inflict Wounds',level:1,school:'Necromancy',castingTime:'Action',range:'Touch',components:'V, S',duration:'Instantaneous',description:'A creature you touch makes a Constitution saving throw, taking 2d10 Necrotic damage on a failed save or half as much damage on a successful one.\nUsing a Higher-Level Spell Slot. The damage increases by 1d10 for each spell slot level above 1.'},
  'Jump':{name:'Jump',level:1,school:'Transmutation',castingTime:'Bonus Action',range:'Touch',components:'V, S, M (a grasshopper\'s hind leg)',duration:'1 minute',description:'You touch a willing creature. Once on each of its turns until the spell ends, that creature can jump up to 30 feet by spending 10 feet of movement.\nUsing a Higher-Level Spell Slot. You can target one additional creature for each spell slot level above 1.'},
  'Longstrider':{name:'Longstrider',level:1,school:'Transmutation',castingTime:'Action',range:'Touch',components:'V, S, M (a pinch of dirt)',duration:'1 hour',description:'You touch a creature. The target\'s Speed increases by 10 feet until the spell ends.\nUsing a Higher-Level Spell Slot. You can target one additional creature for each spell slot level above 1.'},
  'Mage Armor':{name:'Mage Armor',level:1,school:'Abjuration',castingTime:'Action',range:'Touch',components:'V, S, M (a piece of cured leather)',duration:'8 hours',description:'You touch a willing creature who isn\'t wearing armor. Until the spell ends, the target\'s base AC becomes 13 plus its Dexterity modifier. The spell ends early if the target dons armor.'},
  'Magic Missile':{level:1,school:'Evocation',castingTime:'Action',range:'120 feet',components:'V, S',duration:'Instantaneous',description:'You create three glowing darts of magical force. Each dart strikes a creature of your choice that you can see within range. A dart deals 1d4 + 1 Force damage to its target. The darts all strike simultaneously, and you can direct them to hit one creature or several.\n\nUsing a Higher-Level Spell Slot. The spell creates one more dart for each spell slot level above 1.',name:'Magic Missile'},
  'Protection from Evil and Good':{name:'Protection from Evil and Good',level:1,school:'Abjuration',castingTime:'Action',range:'Touch',components:'V, S, M (a flask of Holy Water worth 25+ GP, which the spell consumes)',duration:'Concentration, up to 10 minutes',description:'Until the spell ends, one willing creature you touch is protected against creatures that are Aberrations, Celestials, Elementals, Fey, Fiends, or Undead. The protection grants several benefits. Creatures of those types have Disadvantage on attack rolls against the target. The target also can\'t be possessed by or gain the Charmed or Frightened conditions from them. If the target is already possessed, Charmed, or Frightened by such a creature, the target has Advantage on any new saving throw against the relevant effect.'},
  'Purify Food and Drink':{name:'Purify Food and Drink',level:1,school:'Transmutation',castingTime:'Action or Ritual',range:'10 feet',components:'V, S',duration:'Instantaneous',description:'You remove poison and rot from nonmagical food and drink in a 5-foot-radius Sphere centered on a point within range.'},
  'Ray of Sickness':{name:'Ray of Sickness',level:1,school:'Necromancy',castingTime:'Action',range:'60 feet',components:'V, S',duration:'Instantaneous',description:'You shoot a greenish ray at a creature within range. Make a ranged spell attack against the target. On a hit, the target takes 2d8 Poison damage and has the Poisoned condition until the end of your next turn.\nUsing a Higher-Level Spell Slot. The damage increases by 1d8 for each spell slot level above 1.'},
  'Sanctuary':{name:'Sanctuary',level:1,school:'Abjuration',castingTime:'Bonus Action',range:'30 feet',components:'V, S, M (a shard of glass from a mirror)',duration:'1 minute',description:'You ward a creature within range. Until the spell ends, any creature who targets the warded creature with an attack roll or a damaging spell must succeed on a Wisdom saving throw or either choose a new target or lose the attack or spell. This spell doesn\'t protect the warded creature from areas of effect.\nThe spell ends if the warded creature makes an attack roll, casts a spell, or deals damage.'},
  'Searing Smite':{name:'Searing Smite',level:1,school:'Evocation',castingTime:'Bonus Action, which you take immediately after hitting a target with a Melee weapon or an Unarmed Strike',range:'Self',components:'V',duration:'1 minute',description:'As you hit the target, it takes an extra 1d6 Fire damage from the attack. At the start of each of its turns until the spell ends, the target takes 1d6 Fire damage and then makes a Constitution saving throw. On a failed save, the spell continues. On a successful save, the spell ends.\nUsing a Higher-Level Spell Slot. All the damage increases by 1d6 for each spell slot level above 1.'},
  'Shield':{level:1,school:'Abjuration',castingTime:'Reaction, which you take when you are hit by an attack roll or targeted by the Magic Missile spell',range:'Self',components:'V, S',duration:'1 round',description:'An imperceptible barrier of magical force protects you. Until the start of your next turn, you have a +5 bonus to AC, including against the triggering attack, and you take no damage from Magic Missile.',name:'Shield'},
  'Shield of Faith':{name:'Shield of Faith',level:1,school:'Abjuration',castingTime:'Bonus Action',range:'60 feet',components:'V, S, M (a prayer scroll)',duration:'Concentration, up to 10 minutes',description:'A shimmering field surrounds a creature of your choice within range, granting it a +2 bonus to AC for the duration.'},
  'Silent Image':{name:'Silent Image',level:1,school:'Illusion',castingTime:'Action',range:'60 feet',components:'V, S, M (a bit of fleece)',duration:'Concentration, up to 10 minutes',description:'You create the image of an object, a creature, or some other visible phenomenon that is no larger than a 15-foot Cube. The image appears at a spot within range and lasts for the duration. The image is purely visual; it isn\'t accompanied by sound, smell, or other sensory effects.\nAs a Magic action, you can cause the image to move to any spot within range. As the image changes location, you can alter its appearance so that its movements appear natural for the image. For example, if you create an image of a creature and move it, you can alter the image so that it appears to be walking.\nPhysical interaction with the image reveals it to be an illusion, since things can pass through it. A creature that takes a Study action to examine the image can determine that it is an illusion with a successful Intelligence (Investigation) check against your spell save DC. If a creature discerns the illusion for what it is, the creature can see through the image.'},
  'Sleep':{level:1,school:'Enchantment',castingTime:'Action',range:'60 feet',components:'V, S, M (a pinch of sand or rose petals)',duration:'Concentration, up to 1 minute',description:'Each creature of your choice in a 5-foot-radius Sphere centered on a point within range must succeed on a Wisdom saving throw or have the Incapacitated condition until the end of its next turn, at which point it must repeat the save. If the target fails the second save, the target has the Unconscious condition for the duration. The spell ends on a target if it takes damage or someone within 5 feet of it takes an action to shake it out of the spell\'s effect.\nCreatures that don\'t sleep, such as elves, or that have Immunity to the Exhaustion condition automatically succeed on saves against this spell.',name:'Sleep'},
  'Speak with Animals':{name:'Speak with Animals',level:1,school:'Divination',castingTime:'Action or Ritual',range:'Self',components:'V, S',duration:'10 minutes',description:'For the duration, you can comprehend and verbally communicate with Beasts, and you can use any of the Influence action\'s skill options with them.\nMost Beasts have little to say about topics that don\'t pertain to survival or companionship, but at minimum, a Beast can give you information about nearby locations and monsters, including whatever it has perceived within the past day.'},
  'Tasha\'s Hideous Laughter':{name:'Tasha\'s Hideous Laughter',level:1,school:'Enchantment',castingTime:'Action',range:'30 feet',components:'V, S, M (a tart and a feather)',duration:'Concentration, up to 1 minute',description:'One creature of your choice that you can see within range makes a Wisdom saving throw. On a failed save, it has the Prone and Incapacitated conditions for the duration. During that time, it laughs uncontrollably if it\'s capable of laughter, and it can\'t end the Prone condition on it self.\nAt the end of each of its turns and each time it takes damage, it makes another Wisdom saving throw. The target has Advantage on the save if the save is triggered by damage. On a successful save, the spell ends.\nUsing a Higher-Level Spell Slot. You can target one additional creature for each spell slot level about 1.'},
  'Tenser\'s Floating Disk':{name:'Tenser\'s Floating Disk',level:1,school:'Conjuration',castingTime:'Action or Ritual',range:'30 feet',components:'V, S, M (a drop of mercury)',duration:'1 hour',description:'This spell creates a circular, horizontal plane of force, 3 feet in diameter and 1 inch thick, that floats 3 feet above the ground in an unoccupied space of your choice that you can see within range. The disk remains for the duration and can hold up to 500 pounds. If more weight is placed on it, the spell ends, and everything on the disk falls to the ground.\nThe disk is immobile while you are within 20 feet of it. If you move more than 20 feet away from it, the disk follows you so that it remains within 20 feet of you. It can move across uneven terrain, up or down stairs, slopes and the like, but it can\'t cross an elevation change of 10 feet or more. For example, the disk can\'t move across a 10-foot-deep pit, nor could it leave such a pit if it was created at the bottom.\nIf you move more than 100 feet from the disk (typically because it can\'t move around an obstacle to follow you), the spell ends.'},
  'Thunderous Smite':{name:'Thunderous Smite',level:1,school:'Evocation',castingTime:'Bonus Action, which you take immediately after hitting a target with a Melee weapon or an Unarmed Strike',range:'Self',components:'V',duration:'Instantaneous',description:'Your strike rings with thunder that is audible within 300 feet of you, and the target takes an extra 2d6 Thunder damage from the attack. Additionally, if the target is a creature, it must succeed on a Strength saving throw or be pushed 10 feet away from you and have the Prone condition.\nUsing a Higher-Level Spell Slot. The damage increases by 1d6 for each spell slot level above 1.'},
  'Thunderwave':{name:'Thunderwave',level:1,school:'Evocation',castingTime:'Action',range:'Self',components:'V, S',duration:'Instantaneous',description:'You unleash a wave of thunderous energy. Each creature in a 15-foot Cube originating from you makes a Constitution saving throw. On a failed save, a creature takes 2d8 Thunder damage and is pushed 10 feet away from you. On a successful save, a creature takes half as much damage only.\nIn addition, unsecured objects that are entirely within the Cube are pushed 10 feet away from you, and a thunderous boom is audible within 300 feet.\nUsing a Higher-Level Spell Slot. The damage increases by 1d8 for each spell slot level above 1.'},
  'Unseen Servant':{name:'Unseen Servant',level:1,school:'Conjuration',castingTime:'Action or Ritual',range:'60 feet',components:'V, S, M (a bit of string and of wood)',duration:'1 hour',description:'This spell creates an Invisible, mindless, shapeless, Medium force that performs simple tasks at your command until the spell ends. The servant springs into existence in an unoccupied space on the ground within range. It has AC 10, 1 Hit Point, and a Strength of 2, and it can\'t attack. If it drops to o Hit Points, the spell ends.\nOnce on each of your turns as a Bonus Action, you can mentally command the servant to move up to 15 feet and interact with an object. The servant can perform simple tasks that a human could do, such as fetching things, cleaning, mending, folding clothes, lighting fires, serving food, and pouring drinks. Once you give the command, the servant performs the task to the best of its ability until it completes the task, then waits for your next command.\nIf you command the servant to perform a task that would move it more than 60 feet away from you, the spell ends.'},
  'Witch Bolt':{name:'Witch Bolt',level:1,school:'Evocation',castingTime:'Action',range:'60 feet',components:'V, S, M (a twig struck by lightning)',duration:'Concentration, up to 1 minute',description:'A beam of crackling energy lances toward a creature within range, forming a sustained arc of lightning between you and the target. Make a ranged spell attack against it. On a hit, the target takes 2d12 Lightning damage.\nOn each of your subsequent turns, you can take a Bonus Action to deal 1d12 Lightning damage to the target automatically, even if the first attack missed. The spell ends if the target is ever outside the spell\'s range or if it has Total Cover from you.\nUsing a Higher-Level Spell Slot. The initial damage increases by 1d12 for each spell slot level above 1.'},
  'Wrathful Smite':{name:'Wrathful Smite',level:1,school:'Necromancy',castingTime:'Bonus Action, which you take immediately after hitting a creature with a Melee weapon or an Unarmed Strike',range:'Self',components:'V',duration:'1 minute',description:'The target takes an extra 1d6 Necrotic damage from the attack, and it must succeed on a Wisdom saving throw or have the Frightened condition until the spell ends. At the end of each of its turns, the Frightened target repeats the save, ending the spell on itself on a success.\nUsing a Higher-Level Spell Slot. The damage increases by 1d6 for each spell slot level above 1.'},
  // Level 2 Spells
  'Aid':{level:2,school:'Abjuration',castingTime:'Action',range:'30 feet',components:'V, S, M (a strip of white cloth)',duration:'8 hours',description:'Choose up to three creatures within range. Each target\'s Hit Point maximum and current Hit Points increase by 5 for the duration.\nUsing a Higher-Level Spell Slot. Each target\'s Hit Points increase by 5 for each spell slot level above 2.',name:'Aid'},
  'Alter Self':{level:2,school:'Transmutation',castingTime:'Action',range:'Self',components:'V, S',duration:'Concentration, up to 1 hour',description:'You alter your physical form. Choose one of the following options. Its effects last for the duration, during which you can take a Magic action to replace the option you chose with a different one.\nAquatic Adaptation. You sprout gills and grow webs between your fingers. You can breathe underwater and gain a Swim Speed equal to your Speed.\nChange Appearance. You alter your appearance. You decide what you look like, including your height, weight, facial features, sound of your voice, hair length, coloration, and other distinguishing characteristics. You can make yourself appear as a member of another species, though none of your statistics change. You can\'t appear as a creature of a different size, and your basic shape stays the same; if you\'re bipedal, you can\'t use this spell to become quadrupedal, for instance. For the duration, you can take a Magic action to change your appearance in this way again.\nNatural Weapons. You grow claws (Slashing), fangs (Piercing), horns (Piercing), or hooves (Bludgeoning). When you use your Unarmed Strike to deal damage with that new growth, it deals 1d6 damage of the type in parentheses instead of dealing the normal damage for your Unarmed Strike, and you use your spellcasting ability modifier for the attack and damage rolls rather than using Strength.',name:'Alter Self'},
  'Animal Messenger':{level:2,school:'Enchantment',castingTime:'Action or Ritual',range:'30 feet',components:'V, S, M (a morsel of food)',duration:'24 hours',description:'A Tiny Beast of your choice that you can see within range must succeed on a Charisma saving throw, or it attempts to deliver a message for you (if the target\'s Challenge Rating isn\'t o, it automatically succeeds). You specify a location you have visited and a recipient who matches a general description, such as "a person dressed in the uniform of the town guard" or "a red-haired dwarf wearing a pointed hat." You also communicate a message of up to twenty-five words. The Beast travels for the duration toward the specified location, covering about 25 miles per 24 hours or 50 miles if the Beast can fly.\nWhen the Beast arrives, it delivers your message to the creature that you described, mimicking your communication. If the Beast doesn\'t reach its destination before the spell ends, the message is lost, and the Beast returns to where you cast the spell.\nUsing a Higher-Level Spell Slot. The spell\'s duration increases by 48 hours for each spell slot level above 2.',name:'Animal Messenger'},
  'Arcane Lock':{level:2,school:'Abjuration',castingTime:'Action',range:'Touch',components:'V, S, M (gold dust worth 25+ GP, which the spell consumes)',duration:'Until dispelled',description:'You touch a closed door, window, gate, container, or hatch and magically lock it for the duration. This lock can\'t be unlocked by any nonmagical means. You and any creatures you designate when you cast the spell can open and close the object despite the lock. You can also set a password that, when spoken within 5 feet of the object, unlocks it for 1 minute.',name:'Arcane Lock'},
  'Arcane Vigor':{level:2,school:'Abjuration',castingTime:'Bonus Action',range:'Self',components:'V, S',duration:'Instantaneous',description:'You tap into your life force to heal yourself. Roll one or two of your unexpended Hit Point Dice, and regain a number of Hit Points equal to the roll\'s total plus your spellcasting ability modifier. Those dice are then expended.\nUsing a Higher-Level Spell Slot. The number of unexpended Hit Dice you can roll increases by one for each spell slot level above 2.',name:'Arcane Vigor'},
  'Augury':{level:2,school:'Divination',castingTime:'1 minute or Ritual',range:'Self',components:'V, S, M (special marked sticks, bones, cards, or other divinatory tokens worth 25+ GP)',duration:'Instantaneous',description:'You receive an omen from an otherworldly entity about the results of a course of action that you plan to take within the next 30 minutes. The DM chooses the omen from the Omens table.\nOmen\tFor Results That Will Be...\nWeal\tGood\nWoe\tBad\nWeal and woe\tGood and bad\nIndifference\tNeither good nor bad\nThe spell doesn\'t account for circumstances, such as other spells, that might change the results.\nIf you cast the spell more than once before finishing a Long Rest, there is a cumulative 25 percent chance for each casting after the first that you get no answer.',name:'Augury'},
  'Barkskin':{level:2,school:'Transmutation',castingTime:'Bonus Action',range:'Touch',components:'V, S, M (a handful of bark)',duration:'1 hour',description:'You touch a willing creature. Until the spell ends, the target\'s skin assumes a bark-like appearance, and the target has an Armor Class of 17 if its AC is lower than that.',name:'Barkskin'},
  'Beast Sense':{level:2,school:'Divination',castingTime:'Action or Ritual',range:'Touch',components:'S',duration:'Concentration, up to 1 hour',description:'You touch a willing Beast. For the duration, you can perceive through the Beast\'s senses as well as your own. When perceiving through the Beast\'s senses, you benefit from any special senses it has.',name:'Beast Sense'},
  'Blindness/Deafness':{level:2,school:'Transmutation',castingTime:'Action',range:'120 feet',components:'V',duration:'1 minute',description:'One creature that you can see within range must succeed on a Constitution saving throw, or it has the Blinded or Deafened condition (your choice) for the duration. At the end of each of its turns, the target repeats the save, ending the spell on itself on a success.\nUsing a Higher-Level Spell Slot. You can target one additional creature for each spell slot level above 2.',name:'Blindness/Deafness'},
  'Blur':{level:2,school:'Illusion',castingTime:'Action',range:'Self',components:'V',duration:'Concentration, up to 1 minute',description:'Your body becomes blurred. For the duration, any creature has Disadvantage on attack rolls against you. An attacker is immune to this effect if it perceives you with Blindsight or Truesight.',name:'Blur'},
  'Calm Emotions':{level:2,school:'Enchantment',castingTime:'Action',range:'60 feet',components:'V, S',duration:'Concentration, up to 1 minute',description:'Each Humanoid in a 20-foot-radius Sphere centered on a point you choose within range must succeed on a Charisma saving throw or be affected by one of the following effects (choose for each creature):\n• The creature has Immunity to the Charmed and Frightened conditions until the spell ends. If the creature was already Charmed or Frightened, those conditions are suppressed for the duration.\n• The creature becomes Indifferent about creatures of your choice that it\'s Hostile toward. This indifference ends if the target takes damage or witnesses its allies taking damage. When the spell ends, the creature\'s attitude returns to normal.',name:'Calm Emotions'},
  'Cloud of Daggers':{level:2,school:'Conjuration',castingTime:'Action',range:'60 feet',components:'V, S, M (a sliver of glass)',duration:'Concentration, up to 1 minute',description:'You conjure spinning daggers in a 5-foot Cube centered on a point within range. Each creature in that area takes 4d4 Slashing damage. A creature also takes this damage if it enters the Cube or ends its turn there or if the Cube moves into its space. A creature takes this damage only once per turn.\nOn your later turns, you can take a Magic action to teleport the Cube up to 30 feet.\nUsing a Higher-Level Spell Slot. The damage increases by 2d4 for each spell slot level above 2.',name:'Cloud of Daggers'},
  'Continual Flame':{level:2,school:'Evocation',castingTime:'Action',range:'Touch',components:'V, S, M (ruby dust worth 50+ GP, which the spell consumes)',duration:'Until dispelled',description:'A flame springs from an object that you touch. The effect casts Bright Light in a 20-foot radius and Dim Light for an additional 20 feet. It looks like a regular flame, but it creates no heat and consumes no fuel. The flame can be covered or hidden but not smothered or quenched.',name:'Continual Flame'},
  'Cordon of Arrows':{level:2,school:'Transmutation',castingTime:'Action',range:'Touch',components:'V, S, M (an ornamental braid)',duration:'8 hours',description:'You touch up to four nonmagical Arrows or Bolts and plant them in the ground in your space. Until the spell ends, the ammunition can\'t be physically uprooted, and whenever a creature other than you enters a space within 30 feet of the ammunition for the first time on a turn or ends its turn there, one piece of ammunition flies up to strike it. The creature must succeed on a Dexterity saving throw or take 2d4 Piercing damage. The piece of ammunition is then destroyed. The spell ends when none of the ammunition remains planted in the ground.\nWhen you cast this spell, you can designate any creatures you choose, and the spell ignores them.\nUsing a Higher-Level Spell Slot. The amount of ammunition that can be affected increases by two for each spell slot level above 2.',name:'Cordon of Arrows'},
  'Crown of Madness':{level:2,school:'Enchantment',castingTime:'Action',range:'120 feet',components:'V, S',duration:'Concentration, up to 1 minute',description:'One creature that you can see within range must succeed on a Wisdom saving throw or have the Charmed condition for the duration. The creature succeeds automatically if it isn\'t Humanoid.\nA spectral crown appears on the Charmed target\'s head, and it must use its action before moving on each of its turns to make a melee attack against a creature other than itself that you mentally choose. The target can act normally on its turn if you choose no creature or if no creature is within its reach. The target repeats the save at the end of each of its turns, ending the spell on itself on a success.\nOn your later turns, you must take the Magic action to maintain control of the target, or the spell ends.',name:'Crown of Madness'},
  'Darkness':{level:2,school:'Evocation',castingTime:'Action',range:'60 feet',components:'V, M (bat fur and a piece of coal)',duration:'Concentration, up to 10 minutes',description:'For the duration, magical Darkness spreads from a point within range and fills a 15-foot-radius Sphere. Darkvision can\'t see through it, and nonmagical light can\'t illuminate it.\nAlternatively, you cast the spell on an object that isn\'t being worn or carried, causing the Darkness to fill a 15-foot Emanation originating from that object. Covering that object with something opaque, such as a bowl or helm, blocks the Darkness.\nIf any of this spell\'s area overlaps with an area of Bright Light or Dim Light created by a spell of level 2 or lower, that other spell is dispelled.',name:'Darkness'},
  'Darkvision':{level:2,school:'Transmutation',castingTime:'Action',range:'Touch',components:'V, S, M (a dried carrot)',duration:'8 hours',description:'For the duration, a willing creature you touch has Darkvision with a range of 150 feet.',name:'Darkvision'},
  'Detect Thoughts':{level:2,school:'Divination',castingTime:'Action',range:'Self',components:'V, S, M (a copper piece)',duration:'Concentration, up to 1 minute',description:'You activate one of the effects below. Until the spell ends, you can activate either effect as a Magic action on your later turns.\nSense Thoughts. You sense the presence of thoughts within 30 feet of yourself that belong to creatures that know languages or are telepathic. You don\'t read the thoughts, but you know that a thinking creature is present.\nThe spell is blocked by 1 foot of stone, dirt, or wood; 1 inch of metal; or a thin sheet of lead.\nRead Thoughts. Target one creature you can see within 30 feet of yourself or one creature within 30 feet of yourself that you detected with the Sense Thoughts option. You learn what is most on the target\'s mind right now. If the target doesn\'t know any languages and isn\'t telepathic, you learn nothing.\nAs a Magic action on your next turn, you can try to probe deeper into the target\'s mind. If you probe deeper, the target makes a Wisdom saving throw. On a failed save, you discern the target\'s reasoning, emotions, and something that looms large in its mind (such as a worry, love, or hate). On a successful save, the spell ends. Either way, the target knows that you are probing into its mind, and until you shift your attention away from the target\'s mind, the target can take an action on its turn to make an Intelligence (Arcana) check against your spell save DC, ending the spell on a success.',name:'Detect Thoughts'},
  'Dragon\'s Breath':{level:2,school:'Transmutation',castingTime:'Bonus Action',range:'Touch',components:'V, S, M (a hot pepper)',duration:'Concentration, up to 1 minute',description:'You touch one willing creature, and choose Acid, Cold, Fire, Lightning, or Poison. Until the spell ends, the target can take a Magic action to exhale a 15-foot Cone. Each creature in that area makes a Dexterity saving throw, taking 3d6 damage of the chosen type on a failed save or half as much damage on a successful one.\nUsing a Higher-Level Spell Slot. The damage increases by 1d6 for each spell slot level above 2.',name:'Dragon\'s Breath'},
  'Enhance Ability':{level:2,school:'Transmutation',castingTime:'Action',range:'Touch',components:'V, S, M (fur or a feather)',duration:'Concentration, up to 1 hour',description:'You touch a creature and choose Strength, Dexterity, Intelligence, Wisdom, or Charisma. For the duration, the target has Advantage on ability checks using the chosen ability.\nUsing a Higher-Level Spell Slot. You can target one additional creature for each spell slot level above 2. You can choose a different ability for each target.',name:'Enhance Ability'},
  'Enlarge/Reduce':{level:2,school:'Transmutation',castingTime:'Action',range:'30 feet',components:'V, S, M (a pinch of powdered iron)',duration:'Concentration, up to 1 minute',description:'For the duration, the spell enlarges or reduces a creature or an object you can see within range (see the chosen effect below). A targeted object must be neither worn nor carried. If the target is an unwilling creature, it can make a Constitution saving throw. On a successful save, the spell has no effect.\nEverything that a targeted creature is wearing and carrying changes size with it. Any item it drops returns to normal size at once. A thrown weapon or piece of ammunition returns to normal size immediately after it hits or misses a target.\nEnlarge. The target\'s size increases by one category—from Medium to Large, for example. The target also has Advantage on Strength checks and Strength saving throws. The target\'s attacks with its enlarged weapons or Unarmed Strikes deal an extra 1d4 damage on a hit.\nReduce. The target\'s size decreases by one category—from Medium to Small, for example. The target also has Disadvantage on Strength checks and Strength saving throws. The target\'s attacks with its reduced weapons or Unarmed Strikes deal 1d4 less damage on a hit (this can\'t reduce the damage below 1).',name:'Enlarge/Reduce'},
  'Enthrall':{level:2,school:'Enchantment',castingTime:'Action',range:'60 feet',components:'V, S',duration:'Concentration, up to 1 minute',description:'You weave a distracting string of words, causing creatures of your choice that you can see within range to make a Wisdom saving throw. Any creature you or your companions are fighting automatically succeeds on this save. On a failed save, a target has a –10 penalty to Wisdom (Perception) checks and Passive Perception until the spell ends.',name:'Enthrall'},
  'Find Steed':{level:2,school:'Conjuration',castingTime:'Action',range:'30 feet',components:'V, S',duration:'Instantaneous',description:'You summon an otherworldly being that appears as a loyal steed in an unoccupied space of your choice within range. This creature uses the Otherworldly Steed stat block. If you already have a steed from this spell, the steed is replaced by the new one.\nThe steed resembles a Large, rideable animal of your choice, such as a horse, a camel, a dire wolf, or an elk. Whenever you cast the spell, choose the steed\'s creature type—Celestial, Fey, or Fiend—which determines certain traits in the stat block.\nCombat. The steed is an ally to you and your allies. In combat, it shares your Initiative count, and it functions as a controlled mount while you ride it (as defined in the rules on mounted combat). If you have the Incapacitated condition, the steed takes its turn immediately after yours and acts independently, focusing on protecting you.\nDisappearance of the Steed. The steed disappears if it drops to o Hit Points or if you die. When it disappears, it leaves behind anything it was wearing or carrying. If you cast this spell again, you decide whether you summon the steed that disappeared or a different one.\nUsing a Higher-Level Spell Slot. Use the spell slot\'s level for the spell\'s level in the stat block.',name:'Find Steed'},
  'Find Traps':{level:2,school:'Divination',castingTime:'Action',range:'120 feet',components:'V, S',duration:'Instantaneous',description:'You sense any trap within range that is within line of sight. A trap, for the purpose of this spell, includes any object or mechanism that was created to cause damage or other danger. Thus, the spell would sense the Alarm or Glyph of Warding spell or a mechanical pit trap, but it wouldn\'t reveal a natural weakness in the floor, an unstable ceiling, or a hidden sinkhole.\nThis spell reveals that a trap is present but not its location. You do learn the general nature of the danger posed by a trap you sense.',name:'Find Traps'},
  'Flame Blade':{level:2,school:'Evocation',castingTime:'Bonus Action',range:'Self',components:'V, S, M (a sumac leaf)',duration:'Concentration, up to 10 minutes',description:'You evoke a fiery blade in your free hand. The blade is similar in size and shape to a scimitar, and it lasts for the duration. If you let go of the blade, it disappears, but you can evoke it again as a Bonus Action.\nAs a Magic action, you can make a melee spell attack with the fiery blade. On a hit, the target takes Fire damage equal to 3d6 plus your spellcasting ability modifier.\nThe flaming blade sheds Bright Light in a 10-foot radius and Dim Light for an additional 10 feet.\nUsing a Higher-Level Spell Slot. The damage increases by 1d6 for each spell slot level above 2.',name:'Flame Blade'},
  'Flaming Sphere':{level:2,school:'Conjuration',castingTime:'Action',range:'60 feet',components:'V, S, M (a ball of wax)',duration:'Concentration, up to 1 minute',description:'You create a 5-foot-diameter Sphere of fire in an unoccupied space on the ground within range. It lasts for the duration. Any creature that ends its turn within 5 feet of the sphere makes a Dexterity saving throw, taking 2d6 Fire damage on a failed save or half as much damage on a successful one.\nAs a Bonus Action, you can move the sphere up to 30 feet, rolling it along the ground. If you move the sphere into a creature\'s space, that creature makes the save against the sphere, and the sphere stops moving for the turn.\nWhen you move the sphere, you can direct it over barriers up to 5 feet tall and jump it across pits up to 10 feet wide. Flammable objects that aren\'t being worn or carried start burning if touched by the sphere, and it sheds Bright Light in a 20-foot radius and Dim Light for an additional 20 feet.\nUsing a Higher-Level Spell Slot. The damage increases by 1d6 for each spell slot level above 2.',name:'Flaming Sphere'},
  'Gust of Wind':{level:2,school:'Evocation',castingTime:'Action',range:'Self',components:'V, S, M (a legume seed)',duration:'Concentration, up to 1 minute',description:'A Line of strong wind 60 feet long and 10 feet wide blasts from you in a direction you choose for the duration. Each creature in the Line must succeed on a Strength saving throw or be pushed 15 feet away from you in a direction following the Line. A creature that ends its turn in the Line must make the same save.\nAny creature in the Line must spend 2 feet of movement for every 1 foot it moves when moving closer to you.\nThe gust disperses gas or vapor, and it extinguishes candles and similar unprotected flames in the area. It causes protected flames, such as those of lanterns, to dance wildly and has a 50 percent chance to extinguish them.\nAs a Bonus Action on your later turns, you can change the direction in which the Line blasts from you.',name:'Gust of Wind'},
  'Heat Metal':{level:2,school:'Transmutation',castingTime:'Action',range:'60 feet',components:'V, S, M (a piece of iron and a flame)',duration:'Concentration, up to 1 minute',description:'Choose a manufactured metal object, such as a metal weapon or a suit of Heavy or Medium metal armor, that you can see within range. You cause the object to glow red-hot. Any creature in physical contact with the object takes 2d8 Fire damage when you cast the spell. Until the spell ends, you can take a Bonus Action on each of your later turns to deal this damage again if the object is within range.\nIf a creature is holding or wearing the object and takes the damage from it, the creature must succeed on a Constitution saving throw or drop the object if it can. If it doesn\'t drop the object, it has Disadvantage on attack rolls and ability checks until the start of your next turn.\nUsing a Higher-Level Spell Slot. The damage increases by 1d8 for each spell slot level above 2.',name:'Heat Metal'},
  'Hold Person':{level:2,school:'Enchantment',castingTime:'Action',range:'60 feet',components:'V, S, M (a straight piece of iron)',duration:'Concentration, up to 1 minute',description:'Choose a Humanoid that you can see within range. The target must succeed on a Wisdom saving throw or have the Paralyzed condition for the duration. At the end of each of its turns, the target repeats the save, ending the spell on itself on a success.\nUsing a Higher-Level Spell Slot. You can target one additional Humanoid for each spell slot level above 2.',name:'Hold Person'},
  'Invisibility':{level:2,school:'Illusion',castingTime:'Action',range:'Touch',components:'V, S, M (an eyelash in gum arabic)',duration:'Concentration, up to 1 hour',description:'A creature you touch has the Invisible condition until the spell ends. The spell ends early immediately after the target makes an attack roll, deals damage, or casts a spell.\n\nUsing a Higher-Level Spell Slot. You can target one additional creature for each spell slot level above 2.',name:'Invisibility'},
  'Knock':{level:2,school:'Transmutation',castingTime:'Action',range:'60 feet',components:'V',duration:'Instantaneous',description:'Choose an object that you can see within range. The object can be a door, a box, a chest, a set of manacles, a padlock, or another object that contains a mundane or magical means that prevents access.\nA target that is held shut by a mundane lock or that is stuck or barred becomes unlocked, unstuck, or unbarred. If the object has multiple locks, only one of them is unlocked.\nIf the target is held shut by Arcane Lock, that spell is suppressed for 10 minutes, during which time the target can be opened and closed.\nWhen you cast the spell, a loud knock, audible up to 300 feet away, emanates from the target.',name:'Knock'},
  'Lesser Restoration':{level:2,school:'Abjuration',castingTime:'Bonus Action',range:'Touch',components:'V, S',duration:'Instantaneous',description:'You touch a creature and end one condition on it: Blinded, Deafened, Paralyzed, or Poisoned.',name:'Lesser Restoration'},
  'Levitate':{level:2,school:'Transmutation',castingTime:'Action',range:'60 feet',components:'V, S, M (a metal spring)',duration:'Concentration, up to 10 minutes',description:'One creature or loose object of your choice that you can see within range rises vertically up to 20 feet and remains suspended there for the duration. The spell can levitate an object that weighs up to 500 pounds. An unwilling creature that succeeds on a Constitution saving throw is unaffected.\nThe target can move only by pushing or pulling against a fixed object or surface within reach (such as a wall or a ceiling), which allows it to move as if it were climbing. You can change the target\'s altitude by up to 20 feet in either direction on your turn. If you are the target, you can move up or down as part of your move. Otherwise, you can take a Magic action to move the target, which must remain within the spell\'s range.\nWhen the spell ends, the target floats gently to the ground if it is still aloft.',name:'Levitate'},
  'Locate Animals or Plants':{level:2,school:'Divination',castingTime:'Action or Ritual',range:'Self',components:'V, S, M (fur from a bloodhound)',duration:'Instantaneous',description:'Describe or name a specific kind of Beast, Plant creature, or nonmagical plant. You learn the direction and distance to the closest creature or plant of that kind within 5 miles, if any are present.',name:'Locate Animals or Plants'},
  'Locate Object':{level:2,school:'Divination',castingTime:'Action',range:'Self',components:'V, S, M (a forked twig)',duration:'Concentration, up to 10 minutes',description:'Describe or name an object that is familiar to you. You sense the direction to the object\'s location if that object is within 1,000 feet of you. If the object is in motion, you know the direction of its movement.\nThe spell can locate a specific object known to you if you have seen it up close—within 30 feet—at least once. Alternatively, the spell can locate the nearest object of a particular kind, such as a certain kind of apparel, jewelry, furniture, tool, or weapon.\nThis spell can\'t locate an object if any thickness of lead blocks a direct path between you and the object.',name:'Locate Object'},
  'Magic Mouth':{level:2,school:'Illusion',castingTime:'1 minute or Ritual',range:'30 feet',components:'V, S, M (jade dust worth 10+ GP, which the spell consumes)',duration:'Until dispelled',description:'You implant a message within an object in range—a message that is uttered when a trigger condition is met. Choose an object that you can see and that isn\'t being worn or carried by another creature. Then speak the message, which must be 25 words or fewer, though it can be delivered over as long as 10 minutes. Finally, determine the circumstance that will trigger the spell to deliver your message.\nWhen that trigger occurs, a magical mouth appears on the object and recites the message in your voice and at the same volume you spoke. If the object you chose has a mouth or something that looks like a mouth (for example, the mouth of a statue), the magical mouth appears there, so the words appear to come from the object\'s mouth. When you cast this spell, you can have the spell end after it delivers its message, or it can remain and repeat its message whenever the trigger occurs.\nThe trigger can be as general or as detailed as you like, though it must be based on visual or audible conditions that occur within 30 feet of the object. For example, you could instruct the mouth to speak when any creature moves within 30 feet of the object or when a silver bell rings within 30 feet of it.',name:'Magic Mouth'},
  'Magic Weapon':{level:2,school:'Transmutation',castingTime:'Bonus Action',range:'Touch',components:'V, S',duration:'1 hour',description:'You touch a nonmagical weapon. Until the spell ends, that weapon becomes a magic weapon with a +1 bonus to attack rolls and damage rolls. The spell ends early if you cast it again.\nUsing a Higher-Level Spell Slot. The bonus increases to +2 with a level 3–5 spell slot. The bonus increases to +3 with a level 6+ spell slot.',name:'Magic Weapon'},
  'Melf\'s Acid Arrow':{level:2,school:'Evocation',castingTime:'Action',range:'90 feet',components:'V, S, M (powdered rhubarb leaf)',duration:'Instantaneous',description:'A shimmering green arrow streaks toward a target within range and bursts in a spray of acid. Make a ranged spell attack against the target. On a hit, the target takes 4d4 Acid damage and 2d4 Acid damage at the end of its next turn. On a miss, the arrow splashes the target with acid for half as much of the initial damage only.\nUsing a Higher-Level Spell Slot. The damage (both initial and later) increases by 1d4 for each spell slot level above 2.',name:'Melf\'s Acid Arrow'},
  'Mind Spike':{level:2,school:'Divination',castingTime:'Action',range:'120 feet',components:'S',duration:'Concentration, up to 1 hour',description:'You drive a spike of psionic energy into the mind of one creature you can see within range. The target makes a Wisdom saving throw, taking 3d8 Psychic damage on a failed save or half as much damage on a successful one. On a failed save, you also always know the target\'s location until the spell ends, but only while the two of you are on the same plane of existence. While you have this knowledge, the target can\'t become hidden from you, and if it has the Invisible condition, it gains no benefit from that condition against you.\nUsing a Higher-Level Spell Slot. The damage increases by 1d8 for each spell slot level above 2.',name:'Mind Spike'},
  'Mirror Image':{level:2,school:'Illusion',castingTime:'Action',range:'Self',components:'V, S',duration:'1 minute',description:'Three illusory duplicates of yourself appear in your space. Until the spell ends, the duplicates move with you and mimic your actions, shifting position so it\'s impossible to track which image is real.\nEach time a creature hits you with an attack roll during the spell\'s duration, roll a d6 for each of your remaining duplicates. If any of the d6s rolls a 3 or higher, one of the duplicates is hit instead of you, and the duplicate is destroyed. The duplicates otherwise ignore all other damage and effects. The spell ends when all three duplicates are destroyed.\nA creature is unaffected by this spell if it has the Blinded condition, Blindsight, or Truesight.',name:'Mirror Image'},
  'Misty Step':{level:2,school:'Conjuration',castingTime:'Bonus Action',range:'Self',components:'V',duration:'Instantaneous',description:'Briefly surrounded by silvery mist, you teleport up to 30 feet to an unoccupied space you can see.',name:'Misty Step'},
  'Moonbeam':{level:2,school:'Evocation',castingTime:'Action',range:'120 feet',components:'V, S, M (a moonseed leaf)',duration:'Concentration, up to 1 minute',description:'A silvery beam of pale light shines down in a 5-foot-radius, 40-foot-high Cylinder centered on a point within range. Until the spell ends, Dim Light fills the Cylinder, and you can take a Magic action on later turns to move the Cylinder up to 60 feet. When the Cylinder appears, each creature in it makes a Constitution saving throw. On a failed save, a creature takes 2d10 Radiant damage, and if the creature is shape-shifted (as a result of the Polymorph spell, for example), it reverts to its true form and can\'t shape-shift until it leaves the Cylinder. On a successful save, a creature takes half as much damage only. A creature also makes this save when the spell\'s area moves into its space and when it enters the spell\'s area or ends its turn there. A creature makes this save only once per turn.\nUsing a Higher-Level Spell Slot. The damage increases by 1d10 for each spell slot level above 2.',name:'Moonbeam'},
  'Nystul\'s Magic Aura':{level:2,school:'Illusion',castingTime:'Action',range:'Touch',components:'V, S, M (a small square of silk)',duration:'24 hours',description:'With a touch, you place an illusion on a willing creature or an object that isn\'t being worn or carried. A creature gains the Mask effect below, and an object gains the False Aura effect below. The effect lasts for the duration. If you cast the spell on the same target every day for 30 days, the illusion lasts until dispelled.\nMask (Creature). Choose a creature type other than the target\'s actual type. Spells and other magical effects treat the target as if it were a creature of the chosen type.\nFalse Aura (Object). You change the way the target appears to spells and magical effects that detect magical auras, such as Detect Magic. You can make a nonmagical object appear magical, make a magic item appear nonmagical, or change the object\'s aura so that it appears to belong to a school of magic you choose.',name:'Nystul\'s Magic Aura'},
  'Pass Without Trace':{level:2,school:'Abjuration',castingTime:'Action',range:'Self',components:'V, S, M (ashes from a burned mistletoe)',duration:'Concentration, up to 1 hour',description:'You radiate a concealing aura in a 30-foot Emanation for the duration. While in the aura, you and each creature you choose have a +10 bonus to Dexterity (Stealth) checks and leave no tracks.',name:'Pass Without Trace'},
  'Phantasmal Force':{level:2,school:'Illusion',castingTime:'Action',range:'60 feet',components:'V, S, M (a bit of fleece)',duration:'Concentration, up to 1 minute',description:'You attempt to craft an illusion in the mind of a creature you can see within range. The target makes an Intelligence saving throw. On a failed save, you create a phantasmal object, creature, or other phenomenon that is no larger than a 10-foot Cube and that is perceivable only to the target for the duration. The phantasm includes sound, temperature, and other stimuli.\nThe target can take a Study action to examine the phantasm with an Intelligence (Investigation) check against your spell save DC. If the check succeeds, the target realizes that the phantasm is an illusion, and the spell ends.\nWhile affected by the spell, the target treats the phantasm as if it were real and rationalizes any illogical outcomes from interacting with it. For example, if the target steps through a phantasmal bridge and survives the fall, it believes the bridge exists and something else caused it to fall.\nAn affected target can even take damage from the illusion if the phantasm represents a dangerous creature or hazard. On each of your turns, such a phantasm can deal 2d8 Psychic damage to the target if it is in the phantasm\'s area or within 5 feet of the phantasm. The target perceives the damage as a type appropriate to the illusion.',name:'Phantasmal Force'},
  'Prayer of Healing':{level:2,school:'Abjuration',castingTime:'10 minutes',range:'30 feet',components:'V',duration:'Instantaneous',description:'Up to five creatures of your choice who remain within range for the spell\'s entire casting gain the benefits of a Short Rest and also regain 2d8 Hit Points. A creature can\'t be affected by this spell again until that creature finishes a Long Rest.\nUsing a Higher-Level Spell Slot. The healing increases by 1d8 for each spell slot level above 2.',name:'Prayer of Healing'},
  'Protection from Poison':{level:2,school:'Abjuration',castingTime:'Action',range:'Touch',components:'V, S',duration:'1 hour',description:'You touch a creature and end the Poisoned condition on it. For the duration, the target has Advantage on saving throws to avoid or end the Poisoned condition, and it has Resistance to Poison damage.',name:'Protection from Poison'},
  'Ray of Enfeeblement':{level:2,school:'Necromancy',castingTime:'Action',range:'60 feet',components:'V, S',duration:'Concentration, up to 1 minute',description:'A beam of enervating energy shoots from you toward a creature within range. The target must make a Constitution saving throw. On a successful save, the target has Disadvantage on the next attack roll it makes until the start of your next turn.\nOn a failed save, the target has Disadvantage on Strength-based D20 Tests for the duration. During that time, it also subtracts 1d8 from all its damage rolls. The target repeats the save at the end of each of its turns, ending the spell on a success.',name:'Ray of Enfeeblement'},
  'Rope Trick':{level:2,school:'Transmutation',castingTime:'Action',range:'Touch',components:'V, S, M (a segment of rope)',duration:'1 hour',description:'You touch a rope. One end of it hovers upward until the rope hangs perpendicular to the ground or the rope reaches a ceiling. At the rope\'s upper end, an Invisible 3-foot-by-5-foot portal opens to an extradimensional space that lasts until the spell ends. That space can be reached by climbing the rope, which can be pulled into or dropped out of it.\nThe space can hold up to eight Medium or smaller creatures. Attacks, spells, and other effects can\'t pass into or out of the space, but creatures inside it can see through the portal. Anything inside the space drops out when the spell ends.',name:'Rope Trick'},
  'Scorching Ray':{level:2,school:'Evocation',castingTime:'Action',range:'120 feet',components:'V, S',duration:'Instantaneous',description:'You hurl three fiery rays. You can hurl them at one target within range or at several. Make a ranged spell attack for each ray. On a hit, the target takes 2d6 Fire damage.\nUsing a Higher-Level Spell Slot. You create one additional ray for each spell slot level above 2.',name:'Scorching Ray'},
  'See Invisibility':{level:2,school:'Divination',castingTime:'Action',range:'Self',components:'V, S, M (a pinch of talc)',duration:'1 hour',description:'For the duration, you see creatures and objects that have the Invisible condition as if they were visible, and you can see into the Ethereal Plane. Creatures and objects there appear ghostly.',name:'See Invisibility'},
  'Shatter':{level:2,school:'Evocation',castingTime:'Action',range:'60 feet',components:'V, S, M (a chip of mica)',duration:'Instantaneous',description:'A loud noise erupts from a point of your choice within range. Each creature in a 10-foot-radius Sphere centered there makes a Constitution saving throw, taking 3d8 Thunder damage on a failed save or half as much damage on a successful one. A Construct has Disadvantage on the save. A nonmagical object that isn\'t being worn or carried also takes the damage if it\'s in the spell\'s area.\nUsing a Higher-Level Spell Slot. The damage increases by 1d8 for each spell slot level above 2.',name:'Shatter'},
  'Shining Smite':{level:2,school:'Transmutation',castingTime:'Bonus Action, which you take immediately after hitting a creature with a Melee weapon or an Unarmed Strike',range:'Self',components:'V',duration:'Concentration, up to 1 minute',description:'The target hit by the strike takes an extra 2d6 Radiant damage from the attack. Until the spell ends, the target sheds Bright Light in a 5-foot radius, attack rolls against it have Advantage, and it can\'t benefit from the Invisible condition.\nUsing a Higher-Level Spell Slot. The damage increases by 1d6 for each spell slot level above 2.',name:'Shining Smite'},
  'Silence':{level:2,school:'Illusion',castingTime:'Action or Ritual',range:'120 feet',components:'V, S',duration:'Concentration, up to 10 minutes',description:'For the duration, no sound can be created within or pass through a 20-foot-radius Sphere centered on a point you choose within range. Any creature or object entirely inside the Sphere has Immunity to Thunder damage, and creatures have the Deafened condition while entirely inside it. Casting a spell that includes a Verbal component is impossible there.',name:'Silence'},
  'Spider Climb':{level:2,school:'Transmutation',castingTime:'Action',range:'Touch',components:'V, S, M (a drop of bitumen and a spider)',duration:'Concentration, up to 1 hour',description:'Until the spell ends, one willing creature you touch gains the ability to move up, down, and across vertical surfaces and along ceilings, while leaving its hands free. The target also gains a Climb Speed equal to its Speed.\nUsing a Higher-Level Spell Slot. You can target one additional creature for each spell slot level about 2.',name:'Spider Climb'},
  'Spike Growth':{level:2,school:'Transmutation',castingTime:'Action',range:'150 feet',components:'V, S, M (seven thorns)',duration:'Concentration, up to 10 minutes',description:'The ground in a 20-foot-radius Sphere centered on a point within range sprouts hard spikes and thorns. The area becomes Difficult Terrain for the duration. When a creature moves into or within the area, it takes 2d4 Piercing damage for every 5 feet it travels.\nThe transformation of the ground is camouflaged to look natural. Any creature that can\'t see the area when the spell is cast must take a Search action and succeed on a Wisdom (Perception or Survival) check against your spell save DC to recognize the terrain as hazardous before entering it.',name:'Spike Growth'},
  'Spiritual Weapon':{level:2,school:'Evocation',castingTime:'Bonus Action',range:'60 feet',components:'V, S',duration:'Concentration, up to 1 minute',description:'You create a floating, spectral force that resembles a weapon of your choice and lasts for the duration.\nThe force appears within range in a space of your choice, and you can immediately make one melee spell attack against one creature within 5 feet of the force. On a hit, the target takes Force damage equal to 1d8 plus your spellcasting ability modifier.\nAs a Bonus Action on your later turns, you can move the force up to 20 feet and repeat the attack against a creature within 5 feet of it.\n\nUsing a Higher-Level Spell Slot. The damage increases by 1d8 for every slot level above 2.',name:'Spiritual Weapon'},
  'Suggestion':{level:2,school:'Enchantment',castingTime:'Action',range:'30 feet',components:'V, M (a drop of honey)',duration:'Concentration, up to 8 hours',description:'You suggest a course of activity—described in no more than 25 words—to one creature you can see within range that can hear and understand you. The suggestion must sound achievable and not involve anything that would obviously deal damage to the target or its allies. For example, you could say, “Fetch the key to the cult’s treasure vault, and give the key to me.” Or you could say, “Stop fighting, leave this library peacefully, and don’t return.”\nThe target must succeed on a Wisdom saving throw or have the Charmed condition for the duration or until you or your allies deal damage to the target. The Charmed target pursues the suggestion to the best of its ability. The suggested activity can continue for the entire duration, but if the suggested activity can be completed in a shorter time, the spell ends for the target upon completing it.',name:'Suggestion'},
  'Summon Beast':{level:2,school:'Conjuration',castingTime:'Action',range:'90 feet',components:'V, S, M (a feather, tuft of fur, and fish tail inside a gilded acorn worth 200+ GP)',duration:'Concentration, up to 1 hour',description:'You call forth a bestial spirit. It manifests in an unoccupied space that you can see within range and uses the Bestial Spirit stat block. When you cast the spell, choose an environment: Air, Land, or Water. The creature resembles an animal of your choice that is native to the chosen environment, which determines certain details in its stat block. The creature disappears when it drops to O Hit Points or when the spell ends.\nThe creature is an ally to you and your allies. In combat, the creature shares your Initiative count, but it takes its turn immediately after yours. It obeys your verbal commands (no action required by you). If you don\'t issue any, it takes the Dodge action and uses its movement to avoid danger.\nUsing a Higher-Level Spell Slot. Use the spell slot\'s level for the spell\'s level in the stat block.',name:'Summon Beast'},
  'Warding Bond':{level:2,school:'Abjuration',castingTime:'Action',range:'Touch',components:'V, S, M (a pair of platinum rings worth 50+ GP each, which you and the target must wear for the duration)',duration:'1 hour',description:'You touch another creature that is willing and create a mystic connection between you and the target until the spell ends. While the target is within 60 feet of you, it gains a +1 bonus to AC and saving throws, and it has Resistance to all damage. Also, each time it takes damage, you take the same amount of damage.\nThe spell ends if you drop to o Hit Points or if you and the target become separated by more than 60 feet. It also ends if the spell is cast again on either of the connected creatures.',name:'Warding Bond'},
  'Web':{level:2,school:'Conjuration',castingTime:'Action',range:'60 feet',components:'V, S, M (a bit of spiderweb)',duration:'Concentration, up to 1 hour',description:'You conjure a mass of sticky webbing at a point within range. The webs fill a 20-foot Cube there for the duration. The webs are Difficult Terrain, and the area within them is Lightly Obscured.\nIf the webs aren\'t anchored between two solid masses (such as walls or trees) or layered across a floor, wall, or ceiling, the web collapses on itself, and the spell ends at the start of your next turn. Webs layered over a flat surface have a depth of 5 feet.\nThe first time a creature enters the webs on a turn or starts its turn there, it must succeed on a Dexterity saving throw or have the Restrained condition while in the webs or until it breaks free.\nA creature Restrained by the webs can take an action to make a Strength (Athletics) check against your spell save DC. If it succeeds, it is no longer Restrained.\nThe webs are flammable. Any 5-foot Cube of webs exposed to fire burns away in 1 round, dealing 2d4 Fire damage to any creature that starts its turn in the fire.',name:'Web'},
  'Zone of Truth':{level:2,school:'Enchantment',castingTime:'Action',range:'60 feet',components:'V, S',duration:'10 minutes',description:'You create a magical zone that guards against deception in a 15-foot-radius Sphere centered on a point within range. Until the spell ends, a creature that enters the spell\'s area for the first time on a turn or starts its turn there makes a Charisma saving throw. On a failed save, a creature can\'t speak a deliberate lie while in the radius. You know whether a creature succeeds or fails on this save.\nAn affected creature is aware of the spell and can avoid answering questions to which it would normally respond with a lie. Such a creature can be evasive yet must be truthful.',name:'Zone of Truth'},

  // Level 3 Spells
  'Animate Dead':{level:3,school:'Necromancy',castingTime:'1 minute',range:'10 feet',components:'V, S, M (a drop of blood, a piece of flesh, and a pinch of bone dust)',duration:'Instantaneous',description:'Choose a pile of bones or a corpse of a Medium or Small Humanoid within range. The target becomes an Undead creature: a Skeleton if you chose bones or a Zombie if you chose a corpse.\nOn each of your turns, you can take a Bonus Action to mentally command any creature you made with this spell if the creature is within 60 feet of you (if you control multiple creatures, you can command any of them at the same time, issuing the same command to each one). You decide what action the creature will take and where it will move on its next turn, or you can issue a general command, such as to guard a chamber or corridor. If you issue no commands, the creature takes the Dodge action and moves only to avoid harm. Once given an order, the creature continues to follow it until its task is complete.\nThe creature is under your control for 24 hours, after which it stops obeying any command you\'ve given it. To maintain control of the creature for another 24 hours, you must cast this spell on the creature again before the current 24-hour period ends. This use of the spell reasserts your control over up to four creatures you have animated with this spell rather than animating a new creature.\nUsing a Higher-Level Spell Slot. You animate or reassert control over two additional Undead creatures for each spell slot level above 3. Each of the creatures must come from a different corpse or pile of bones.',name:'Animate Dead'},
  'Aura of Vitality':{level:3,school:'Abjuration',castingTime:'Action',range:'Self',components:'V',duration:'Concentration, up to 1 minute',description:'An aura radiates from you in a 30-foot Emanation for the duration. When you create the aura and at the start of each of your turns while it persists, you can restore 2d6 Hit Points to one creature in it.',name:'Aura of Vitality'},
  'Beacon of Hope':{level:3,school:'Abjuration',castingTime:'Action',range:'30 feet',components:'V, S',duration:'Concentration, up to 1 minute',description:'Choose any number of creatures within range. For the duration, each target has Advantage on Wisdom saving throws and Death Saving Throws and regains the maximum number of Hit Points possible from any healing.',name:'Beacon of Hope'},
  'Bestow Curse':{level:3,school:'Necromancy',castingTime:'Action',range:'Touch',components:'V, S',duration:'Concentration, up to 1 minute',description:'You touch a creature, which must succeed on a Wisdom saving throw or become cursed for the duration. Until the curse ends, the target suffers one of the following effects of your choice:\n• Choose one ability. The target has Disadvantage on ability checks and saving throws made with that ability.\n• The target has Disadvantage on attack rolls against you.\n• In combat, the target must succeed on a Wisdom saving throw at the start of each of its turns or be forced to take the Dodge action on that turn.\n• If you deal damage to the target with an attack roll or a spell, the target takes an extra 1d8 Necrotic damage.\nUsing a Higher-Level Spell Slot. If you cast this spell using a level 4 spell slot, you can maintain Concentration on it for up to 10 minutes. If you use a level 5+ spell slot, the spell doesn\'t require Concentration, and the duration becomes 8 hours (level 5-6 slot) or 24 hours (level 7-8 slot). If you use a level 9 spell slot, the spell lasts until dispelled.',name:'Bestow Curse'},
  'Blinding Smite':{level:3,school:'Evocation',castingTime:'Bonus Action, which you take immediately after hitting a creature with a Melee weapon or an Unarmed Strike',range:'Self',components:'V',duration:'1 minute',description:'The target hit by the strike takes an extra 3d8 Radiant damage from the attack, and the target has the Blinded condition until the spell ends. At the end of each of its turns, the Blinded target makes a Constitution saving throw, ending the spell on itself on a success.\nUsing a Higher-Level Spell Slot. The extra damage increases by 1d8 for each spell slot level above 3.',name:'Blinding Smite'},
  'Blink':{level:3,school:'Transmutation',castingTime:'Action',range:'Self',components:'V, S',duration:'1 minute',description:'Roll 1d6 at the end of each of your turns for the duration. On a roll of 4–6, you vanish from your current plane of existence and appear in the Ethereal Plane (the spell ends instantly if you are already on that plane). While on the Ethereal Plane, you can perceive the plane you left, which is cast in shades of gray, but you can\'t see anything there more than 60 feet away. You can affect and be affected only by other creatures on the Ethereal Plane, and creatures on the other plane can\'t perceive you unless they have a special ability that lets them perceive things on the Ethereal Plane.\nYou return to the other plane at the start of your next turn and when the spell ends if you are on the Ethereal Plane. You return to an unoccupied space of your choice that you can see within 10 feet of the space you left. If no unoccupied space is available within that range, you appear in the nearest unoccupied space.',name:'Blink'},
  'Call Lightning':{level:3,school:'Conjuration',castingTime:'Action',range:'120 feet',components:'V, S',duration:'Concentration, up to 10 minutes',description:'A storm cloud appears at a point within range that you can see above yourself. It takes the shape of a Cylinder that is 10 feet tall with a 60-foot radius.\nWhen you cast the spell, choose a point you can see under the cloud. A lightning bolt shoots from the cloud to that point. Each creature within 5 feet of that point makes a Dexterity saving throw, taking 3d10 Lightning damage on a failed save or half as much damage on a successful one.\nUntil the spell ends, you can take a Magic action to call down lightning in that way again, targeting the same point or a different one.\nIf you\'re outdoors in a storm when you cast this spell, the spell gives you control over that storm instead of creating a new one. Under such conditions, the spell\'s damage increases by 1d10.\nUsing a Higher-Level Spell Slot. The damage increases by 1d10 for each spell slot level above 3.',name:'Call Lightning'},
  'Clairvoyance':{level:3,school:'Divination',castingTime:'10 minutes',range:'1 mile',components:'V, S, M (a focus worth 100+ GP, either a jeweled horn for hearing or a glass eye for seeing)',duration:'Concentration, up to 10 minutes',description:'You create an Invisible sensor within range in a location familiar to you (a place you have visited or seen before) or in an obvious location that is unfamiliar to you (such as behind a door, around a corner, or in a grove of trees). The intangible, invulnerable sensor remains in place for the duration.\nWhen you cast the spell, choose seeing or hearing. You can use the chosen sense through the sensor as if you were in its space. As a Bonus Action, you can switch between seeing and hearing.\nA creature that sees the sensor (such as a creature benefiting from See Invisibility or Truesight) sees a luminous orb about the size of your fist.',name:'Clairvoyance'},
  'Conjure Animals':{level:3,school:'Conjuration',castingTime:'Action',range:'60 feet',components:'V, S',duration:'Concentration, up to 10 minutes',description:'You conjure nature spirits that appear as a Large pack of spectral, intangible animals in an unoccupied space you can see within range. The pack lasts for the duration, and you choose the spirits\' animal form, such as wolves, serpents, or birds.\nYou have Advantage on Strength saving throws while you\'re within 5 feet of the pack, and when you move on your turn, you can also move the pack up to 30 feet to an unoccupied space you can see. Whenever the pack moves within 10 feet of a creature you can see and whenever a creature you can see enters a space within 10 feet of the pack or ends its turn there, you can force that creature to make a Dexterity saving throw. On a failed save, the creature takes 3d10 Slashing damage. A creature makes this save only once per turn.\nUsing a Higher-Level Spell Slot. The damage increases by 1d10 for each spell slot level above 3.',name:'Conjure Animals'},
  'Conjure Barrage':{level:3,school:'Conjuration',castingTime:'Action',range:'Self',components:'V, S, M (a Melee or Ranged weapon worth at least 1 CP)',duration:'Instantaneous',description:'You brandish the weapon used to cast the spell and conjure similar spectral weapons (or ammunition appropriate to the weapon) that launch forward and then disappear. Each creature of your choice that you can see in a 60-foot Cone makes a Dexterity saving throw, taking 5d8 Force damage on a failed save or half as much damage on a successful one.\nUsing a Higher-Level Spell Slot. The damage increases by 1d8 for each spell slot level above 3.',name:'Conjure Barrage'},
  'Counterspell':{level:3,school:'Abjuration',castingTime:'Reaction, which you take when you see a creature within 60 feet of yourself casting a spell with Verbal, Somatic, or Material components',range:'60 feet',components:'S',duration:'Instantaneous',description:'You attempt to interrupt a creature in the process of casting a spell. The creature must make a Constitution saving throw. On a failed save, the spell dissipates with no effect, and the action, Bonus Action, or Reaction used to cast it is wasted. If that spell was cast with a spell slot, the slot isn\'t expended.',name:'Counterspell'},
  'Create Food and Water':{level:3,school:'Conjuration',castingTime:'Action',range:'30 feet',components:'V, S',duration:'Instantaneous',description:'You create 45 pounds of food and 30 gallons of fresh water on the ground or in containers within range—both useful in fending off the hazards of malnutrition and dehydration. The food is bland but nourishing and looks like a food of your choice, and the water is clean. The food spoils after 24 hours if uneaten.',name:'Create Food and Water'},
  'Crusader\'s Mantle':{level:3,school:'Evocation',castingTime:'Action',range:'Self',components:'V',duration:'Concentration, up to 1 minute',description:'You radiate a magical aura in a 30-foot Emanation. While in the aura, you and your allies each deal an extra 1d4 Radiant damage when hitting with a weapon or an Unarmed Strike.',name:'Crusader\'s Mantle'},
  'Daylight':{level:3,school:'Evocation',castingTime:'Action',range:'60 feet',components:'V, S',duration:'1 hour',description:'For the duration, sunlight spreads from a point within range and fills a 60-foot-radius Sphere. The sunlight\'s area is Bright Light and sheds Dim Light for an additional 60 feet.\nAlternatively, you cast the spell on an object that isn\'t being worn or carried, causing the sunlight to fill a 60-foot Emanation originating from that object. Covering that object with something opaque, such as a bowl or helm, blocks the sunlight.\nIf any of this spell\'s area overlaps with an area of Darkness created by a spell of level 3 or lower, that other spell is dispelled.',name:'Daylight'},
  'Dispel Magic':{level:3,school:'Abjuration',castingTime:'Action',range:'120 feet',components:'V, S',duration:'Instantaneous',description:'Choose one creature, object, or magical effect within range. Any ongoing spell of level 3 or lower on the target ends. For each ongoing spell of level 4 or higher on the target, make an ability check using your spellcasting ability (DC 10 plus that spell\'s level). On a successful check, the spell ends.\n\nUsing a Higher-Level Spell Slot. You automatically end a spell on the target if the spell\'s level is equal to or less than the level of the spell slot you use.',name:'Dispel Magic'},
  'Elemental Weapon':{level:3,school:'Transmutation',castingTime:'Action',range:'Touch',components:'V, S',duration:'Concentration, up to 1 hour',description:'A nonmagical weapon you touch becomes a magic weapon. Choose one of the following damage types: Acid, Cold, Fire, Lightning, or Thunder. For the duration, the weapon has a +1 bonus to attack rolls and deals an extra 1d4 damage of the chosen type when it hits.\nUsing a Higher-Level Spell Slot. If you use a level 5-6 spell slot, the bonus to attack rolls increases to +2, and the extra damage increases to 2d4. If you use a level 7+ spell slot, the bonus increases to +3, and the extra damage increases to 3d4.',name:'Elemental Weapon'},
  'Fear':{level:3,school:'Illusion',castingTime:'Action',range:'Self',components:'V, S, M (a white feather)',duration:'Concentration, up to 1 minute',description:'Each creature in a 30-foot Cone must succeed on a Wisdom saving throw or drop whatever it is holding and have the Frightened condition for the duration.\nA Frightened creature takes the Dash action and moves away from you by the safest route on each of its turns unless there is nowhere to move. If the creature ends its turn in a space where it doesn\'t have line of sight to you, the creature makes a Wisdom saving throw. On a successful save, the spell ends on that creature.',name:'Fear'},
  'Feign Death':{level:3,school:'Necromancy',castingTime:'Action or Ritual',range:'Touch',components:'V, S, M (a pinch of graveyard dirt)',duration:'1 hour',description:'You touch a willing creature and put it into a cataleptic state that is indistinguishable from death.\nFor the duration, the target appears dead to outward inspection and to spells used to determine the target\'s status. The target has the Blinded and Incapacitated conditions, and its Speed is o.\nThe target also has Resistance to all damage except Psychic damage, and it has Immunity to the Poisoned condition.',name:'Feign Death'},
  'Fireball':{level:3,school:'Evocation',castingTime:'Action',range:'150 feet',components:'V, S, M (a ball of bat guano and sulfur)',duration:'Instantaneous',description:'A bright streak flashes from you to a point you choose within range and then blossoms with a low roar into a fiery explosion. Each creature in a 20-foot-radius Sphere centered on that point makes a Dexterity saving throw, taking 8d6 Fire damage on a failed save or half as much damage on a successful one.\nFlammable objects in the area that aren\'t being worn or carried start burning.\n\nUsing a Higher-Level Spell Slot. The damage increases by 1d6 for each spell slot level above 3.',name:'Fireball'},
  'Fly':{level:3,school:'Transmutation',castingTime:'Action',range:'Touch',components:'V, S, M (a feather)',duration:'Concentration, up to 10 minutes',description:'You touch a willing creature. For the duration, the target gains a Fly Speed of 60 feet and can hover. When the spell ends, the target falls if it is still aloft unless it can stop the fall.\n\nUsing a Higher-Level Spell Slot. You can target one additional creature for each spell slot level above 3.',name:'Fly'},
  'Gaseous Form':{level:3,school:'Transmutation',castingTime:'Action',range:'Touch',components:'V, S, M (a bit of gauze)',duration:'Concentration, up to 1 hour',description:'A willing creature you touch shape-shifts, along with everything it\'s wearing and carrying, into a misty cloud for the duration. The spell ends on the target if it drops to o Hit Points or if it takes a Magic action to end the spell on itself.\nWhile in this form, the target\'s only method of movement is a Fly Speed of 10 feet, and it can hover. The target can enter and occupy the space of another creature. The target has Resistance to Bludgeoning, Piercing, and Slashing damage; it has Immunity to the Prone condition; and it has Advantage on Strength, Dexterity, and Constitution saving throws. The target can pass through narrow openings, but it treats liquids as though they were solid surfaces.\nThe target can\'t talk or manipulate objects, and any objects it was carrying or holding can\'t be dropped, used, or otherwise interacted with. Finally, the target can\'t attack or cast spells.\nUsing a Higher-Level Spell Slot. You can target one additional creature for each spell slot level above 3.',name:'Gaseous Form'},
  'Glyph of Warding':{level:3,school:'Abjuration',castingTime:'1 hour',range:'Touch',components:'V, S, M (powdered diamond worth 200+ GP, which the spell consumes)',duration:'Until dispelled or triggered',description:'You inscribe a glyph that later unleashes a magical effect. You inscribe it either on a surface (such as a table or a section of floor) or within an object that can be closed (such as a book or chest) to conceal the glyph. The glyph can cover an area no larger than 10 feet in diameter. If the surface or object is moved more than 10 feet from where you cast this spell, the glyph is broken, and the spell ends without being triggered.\nThe glyph is nearly imperceptible and requires a successful Wisdom (Perception) check against your spell save DC to notice.\nWhen you inscribe the glyph, you set its trigger and choose whether it\'s an explosive rune or a spell glyph, as explained below.\nSet the Trigger. You decide what triggers the glyph when you cast the spell. For glyphs inscribed on a surface, common triggers include touching or stepping on the glyph, removing another object covering it, or approaching within a certain distance of it. For glyphs inscribed within an object, common triggers include opening that object or seeing the glyph. Once a glyph is triggered, this spell ends.\nYou can refine the trigger so that only creatures of certain types activate it (for example, the glyph could be set to affect Aberrations). You can also set conditions for creatures that don\'t trigger the glyph, such as those who say a certain password.\nExplosive Rune. When triggered, the glyph erupts with magical energy in a 20-foot-radius Sphere centered on the glyph. Each creature in the area makes a Dexterity saving throw. A creature takes 5d8 Acid, Cold, Fire, Lightning, or Thunder damage (your choice when you create the glyph) on a failed save or half as much damage on a successful one.\nSpell Glyph. You can store a prepared spell of level 3 or lower in the glyph by casting it as part of creating the glyph. The spell must target a single creature or an area. The spell being stored has no immediate effect when cast in this way.\nWhen the glyph is triggered, the stored spell takes effect. If the spell has a target, it targets the creature that triggered the glyph. If the spell affects an area, the area is centered on that creature. If the spell summons Hostile creatures or creates harmful objects or traps, they appear as close as possible to the intruder and attack it. If the spell requires Concentration, it lasts until the end of its full duration.\nUsing a Higher-Level Spell Slot. The damage of an explosive rune increases by 1d8 for each spell slot level above 3. If you create a spell glyph, you can store any spell of up to the same level as the spell slot you use for the Glyph of Warding.',name:'Glyph of Warding'},
  'Haste':{level:3,school:'Transmutation',castingTime:'Action',range:'30 feet',components:'V, S, M (a shaving of licorice root)',duration:'Concentration, up to 1 minute',description:'Choose a willing creature that you can see within range. Until the spell ends, the target\'s Speed is doubled, it gains a +2 bonus to Armor Class, it has Advantage on Dexterity saving throws, and it gains an additional action on each of its turns. That action can be used to take only the Attack (one attack only), Dash, Disengage, Hide, or Utilize action.\nWhen the spell ends, the target is Incapacitated and has a Speed of o until the end of its next turn, as a wave of lethargy washes over it.',name:'Haste'},
  'Hunger of Hadar':{level:3,school:'Conjuration',castingTime:'Action',range:'150 feet',components:'V, S, M (a pickled tentacle)',duration:'Concentration, up to 1 minute',description:'You open a gateway to the Far Realm, a region infested with unspeakable horrors. A 20-foot-radius Sphere of Darkness appears, centered on a point with range and lasting for the duration. The Sphere is Difficult Terrain, and it is filled with strange whispers and slurping noises, which can be heard up to 30 feet away. No light, magical or otherwise, can illuminate the area, and creatures fully within it have the Blinded condition.\nAny creature that starts its turn in the area takes 2d6 Cold damage. Any creature that ends its turn there must succeed on a Dexterity saving throw or take 2d6 Acid damage from otherworldly tentacles.\nUsing a Higher-Level Spell Slot. The Cold or Acid damage (your choice) increases by 1d6 for each spell slot level above 3.',name:'Hunger of Hadar'},
  'Hypnotic Pattern':{level:3,school:'Illusion',castingTime:'Action',range:'120 feet',components:'S, M (a pinch of confetti)',duration:'Concentration, up to 1 minute',description:'You create a twisting pattern of colors in a 30-foot Cube within range. The pattern appears for a moment and vanishes. Each creature in the area who can see the pattern must succeed on a Wisdom saving throw or have the Charmed condition for the duration. While Charmed, the creature has the Incapacitated condition and a Speed of o.\nThe spell ends for an affected creature if it takes any damage or if someone else uses an action to shake the creature out of its stupor.',name:'Hypnotic Pattern'},
  'Leomund\'s Tiny Hut':{level:3,school:'Evocation',castingTime:'1 minute or Ritual',range:'Self',components:'V, S, M (a crystal bead)',duration:'8 hours',description:'A 10-foot Emanation springs into existence around you and remains stationary for the duration. The spell fails when you cast it if the Emanation isn\'t big enough to fully encapsulate all creatures in its area.\nCreatures and objects within the Emanation when you cast the spell can move through it freely. All other creatures and objects are barred from passing through it. Spells of level 3 or lower can\'t be cast through it, and the effects of such spells can\'t extend into it.\nThe atmosphere inside the Emanation is comfortable and dry, regardless of the weather outside. Until the spell ends, you can command the interior to have Dim Light or Darkness (no action required). The Emanation is opaque from the outside and of any color you choose, but it\'s transparent from the inside.\nThe spell ends early if you leave the Emanation or if you cast it again.',name:'Leomund\'s Tiny Hut'},
  'Lightning Arrow':{level:3,school:'Transmutation',castingTime:'Bonus Action, which you can take immediately after hitting or missing a target with a ranged attack using a weapon',range:'Self',components:'V, S',duration:'Instantaneous',description:'As your attack hits or misses the target, the weapon or ammunition you\'re using transforms into a lightning bolt. Instead of taking any damage or other effects from the attack, the target takes 4d8 Lightning damage on a hit or half as much damage on a miss. Each creature within 10 feet of the target then makes a Dexterity saving throw, taking 2d8 Lightning damage on a failed save or half as much damage on a successful one.\nThe weapon or ammunition then returns to its normal form.\nUsing a Higher-Level Spell Slot. The damage for both effects of the spell increases by 1d8 for each spell slot level above 3.',name:'Lightning Arrow'},
  'Lightning Bolt':{level:3,school:'Evocation',castingTime:'Action',range:'Self',components:'V, S, M (a bit of fur and a crystal rod)',duration:'Instantaneous',description:'A stroke of lightning forming a 100-foot-long, 5-foot-wide Line blasts out from you in a direction you choose. Each creature in the Line makes a Dexterity saving throw, taking 8d6 Lightning damage on a failed save or half as much damage on a successful one.\nUsing a Higher-Level Spell Slot. The damage increases by 1d6 for each spell slot level above 3.',name:'Lightning Bolt'},
  'Magic Circle':{level:3,school:'Abjuration',castingTime:'1 minute',range:'10 feet',components:'V, S, M (salt and powdered silver worth 100+ GP, which the spell consumes)',duration:'1 hour',description:'You create a 10-foot-radius, 20-foot-tall Cylinder of magical energy centered on a point on the ground that you can see within range. Glowing runes appear wherever the Cylinder intersects with the floor or other surface.\nChoose one or more of the following types of creatures: Celestials, Elementals, Fey, Fiends, or Undead. The circle affects a creature of the chosen type in the following ways:\n• The creature can\'t willingly enter the Cylinder by nonmagical means. If the creature tries to use teleportation or interplanar travel to do so, it must first succeed on a Charisma saving throw.\n• The creature has Disadvantage on attack rolls against targets within the Cylinder.\n• Targets within the Cylinder can\'t be possessed by or gain the Charmed or Frightened condition from the creature.\nEach time you cast this spell, you can cause its magic to operate in the reverse direction, preventing a creature of the specified type from leaving the Cylinder and protecting targets outside it.\nUsing a Higher-Level Spell Slot. The duration increases by 1 hour for each spell slot level above 3.',name:'Magic Circle'},
  'Major Image':{level:3,school:'Illusion',castingTime:'Action',range:'120 feet',components:'V, S, M (a bit of fleece)',duration:'Concentration, up to 10 minutes',description:'You create the image of an object, a creature, or some other visible phenomenon that is no larger than a 20-foot Cube. The image appears at a spot that you can see within range and lasts for the duration. It seems real, including sounds, smells, and temperature appropriate to the thing depicted, but it can\'t deal damage or cause conditions.\nIf you are within range of the illusion, you can take a Magic action to cause the image to move to any other spot within range. As the image changes location, you can alter its appearance so that its movements appear natural for the image. For example, if you create an image of a creature and move it, you can alter the image so that it appears to be walking. Similarly, you can cause the illusion to make different sounds at different times, even making it carry on a conversation, for example.\nPhysical interaction with the image reveals it to be an illusion, for things can pass through it. A creature that takes a Study action to examine the image can determine that it is an illusion with a successful Intelligence (Investigation) check against your spell save DC. If a creature discerns the illusion for what it is, the creature can see through the image, and its other sensory qualities become faint to the creature.\nUsing a Higher-Level Spell Slot. The spell lasts until dispelled, without requiring Concentration, if cast with a level 4+ spell slot.',name:'Major Image'},
  'Mass Healing Word':{level:3,school:'Abjuration',castingTime:'Bonus Action',range:'60 feet',components:'V',duration:'Instantaneous',description:'Up to six creatures of your choice that you can see within range regain Hit Points equal to 2d4 plus your spellcasting ability modifier.\nUsing a Higher-Level Spell Slot. The healing increases by 1d4 for each spell slot level above 3.',name:'Mass Healing Word'},
  'Meld into Stone':{level:3,school:'Transmutation',castingTime:'Action or Ritual',range:'Touch',components:'V, S',duration:'8 hours',description:'You step into a stone object or surface large enough to fully contain your body, merging yourself and your equipment with the stone for the duration. You must touch the stone to do so. Nothing of your presence remains visible or otherwise detectable by nonmagical senses.\nWhile merged with the stone, you can\'t see what occurs outside it, and any Wisdom (Perception) checks you make to hear sounds outside it are made with Disadvantage. You remain aware of the passage of time and can cast spells on yourself while merged in the stone. You can use 5 feet of movement to leave the stone where you entered it, which ends the spell. You otherwise can\'t move.\nMinor physical damage to the stone doesn\'t harm you, but its partial destruction or a change in its shape (to the extent that you no longer fit within it) expels you and deals 6d6 Force damage to you. The stone\'s complete destruction (or transmutation into a different substance) expels you and deals 50 Force damage to you. If expelled, you move into an unoccupied space closest to where you first entered and have the Prone condition.',name:'Meld into Stone'},
  'Nondetection':{level:3,school:'Abjuration',castingTime:'Action',range:'Touch',components:'V, S, M (a pinch of diamond dust worth 25+ GP, which the spell consumes)',duration:'8 hours',description:'For the duration, you hide a target that you touch from Divination spells. The target can be a willing creature, or it can be a place or an object no larger than 10 feet in any dimension. The target can\'t be targeted by any Divination spell or perceived through magical scrying sensors.',name:'Nondetection'},
  'Phantom Steed':{level:3,school:'Illusion',castingTime:'1 minute or Ritual',range:'30 feet',components:'V, S',duration:'1 hour',description:'A Large, quasi-real, horselike creature appears on the ground in an unoccupied space of your choice within range. You decide the creature\'s appearance, and it is equipped with a saddle, bit, and bridle. Any of the equipment created by the spell vanishes in a puff of smoke if it is carried more than 10 feet away from the steed.\nFor the duration, you or a creature you choose can ride the steed. The steed uses the Riding Horse stat block, except it has a Speed of 100 feet and can travel 13 miles in an hour.\nWhen the spell ends, the steed gradually fades, giving the rider 1 minute to dismount. The spell ends early if the steed takes any damage.',name:'Phantom Steed'},
  'Plant Growth':{level:3,school:'Transmutation',castingTime:'Action (Overgrowth) or 8 hours (Enrichment)',range:'150 feet',components:'V, S',duration:'Instantaneous',description:'This spell channels vitality into plants. The casting time you use determines whether the spell has the Overgrowth or the Enrichment effect below.\nOvergrowth. Choose a point within range. All normal plants in a 100-foot-radius Sphere centered on that point become thick and overgrown. A creature moving through that area must spend 4 feet of movement for every 1 foot it moves. You can exclude one or more areas of any size within the spell\'s area from being affected.\nEnrichment. All plants in a half-mile radius centered on a point within range become enriched for 365 days. The plants yield twice the normal amount of food when harvested. They can benefit from only one Plant Growth per year.',name:'Plant Growth'},
  'Protection from Energy':{level:3,school:'Abjuration',castingTime:'Action',range:'Touch',components:'V, S',duration:'Concentration, up to 1 hour',description:'For the duration, the willing creature you touch has Resistance to one damage type of your choice: Acid, Cold, Fire, Lightning, or Thunder.',name:'Protection from Energy'},
  'Remove Curse':{level:3,school:'Abjuration',castingTime:'Action',range:'Touch',components:'V, S',duration:'Instantaneous',description:'At your touch, all curses affecting one creature or object end. If the object is a cursed magic item, its curse remains, but the spell breaks its owner\'s Attunement to the object so it can be removed or discarded.',name:'Remove Curse'},
  'Revivify':{level:3,school:'Necromancy',castingTime:'Action',range:'Touch',components:'V, S, M (a diamond worth 300+ GP, which the spell consumes)',duration:'Instantaneous',description:'You touch a creature that has died within the last minute. That creature revives with 1 Hit Point. This spell can\'t revive a creature that has died of old age, nor does it restore any missing body parts.',name:'Revivify'},
  'Sending':{level:3,school:'Divination',castingTime:'Action',range:'Unlimited',components:'V, S, M (a copper wire)',duration:'Instantaneous',description:'You send a short message of 25 words or fewer to a creature you have met or a creature described to you by someone who has met it. The target hears the message in its mind, recognizes you as the sender if it knows you, and can answer in a like manner immediately. The spell enables targets to understand the meaning of your message.\nYou can send the message across any distance and even to other planes of existence, but if the target is on a different plane than you, there is a 5 percent chance that the message doesn\'t arrive. You know if the delivery fails.\nUpon receiving your message, a creature can block your ability to reach it again with this spell for 8 hours. If you try to send another message during that time, you learn that you are blocked, and the spell fails.',name:'Sending'},
  'Sleet Storm':{level:3,school:'Conjuration',castingTime:'Action',range:'150 feet',components:'V, S, M (a miniature umbrella)',duration:'Concentration, up to 1 minute',description:'Until the spell ends, sleet falls in a 40-foot-tall, 20-foot-radius Cylinder centered on a point you choose within range. The area is Heavily Obscured, and exposed flames in the area are doused.\nGround in the Cylinder is Difficult Terrain. When a creature enters the Cylinder for the first time on a turn or starts its turn there, it must succeed on a Dexterity saving throw or have the Prone condition and lose Concentration.',name:'Sleet Storm'},
  'Slow':{level:3,school:'Transmutation',castingTime:'Action',range:'120 feet',components:'V, S, M (a drop of molasses)',duration:'Concentration, up to 1 minute',description:'You alter time around up to six creatures of your choice in a 40-foot Cube within range. Each target must succeed on a Wisdom saving throw or be affected by this spell for the duration.\nAn affected target\'s Speed is halved, it takes a –2 penalty to AC and Dexterity saving throws, and it can\'t take Reactions.\nOn its turns, it can take either an action or a Bonus Action, not both, and it can make only one attack if it takes the Attack action. If it casts a spell with a Somatic component, there is a 25 percent chance the spell fails as a result of the target making the spell\'s gestures too slowly.\nAn affected target repeats the save at the end of each of its turns, ending the spell on itself on a success.',name:'Slow'},
  'Speak with Dead':{level:3,school:'Necromancy',castingTime:'Action',range:'10 feet',components:'V, S, M (burning incense)',duration:'10 minutes',description:'You grant the semblance of life to a corpse of your choice within range, allowing it to answer questions you pose. The corpse must have a mouth, and this spell fails if the deceased creature was Undead when it died. The spell also fails if the corpse was the target of this spell within the past 10 days.\nUntil the spell ends, you can ask the corpse up to five questions. The corpse knows only what it knew in life, including the languages it knew. Answers are usually brief, cryptic, or repetitive, and the corpse is under no compulsion to offer a truthful answer if you are antagonistic toward it or it recognizes you as an enemy. This spell doesn\'t return the creature\'s soul to its body, only its animating spirit. Thus, the corpse can\'t learn new information, doesn\'t comprehend anything that has happened since it died, and can\'t speculate about future events.',name:'Speak with Dead'},
  'Speak with Plants':{level:3,school:'Transmutation',castingTime:'Action',range:'Self',components:'V, S',duration:'10 minutes',description:'You imbue plants in an immobile 30-foot Emanation with limited sentience and animation, giving them the ability to communicate with you and follow your simple commands. You can question plants about events in the spell\'s area within the past day, gaining information about creatures that have passed, weather, and other circumstances.\nYou can also turn Difficult Terrain caused by plant growth (such as thickets and undergrowth) into ordinary terrain that lasts for the duration. Or you can turn ordinary terrain where plants are present into Difficult Terrain that lasts for the duration.\nThe spell doesn\'t enable plants to uproot themselves and move about, but they can move their branches, tendrils, and stalks for you.\nIf a Plant creature is in the area, you can communicate with it as if you shared a common language.',name:'Speak with Plants'},
  'Spirit Guardians':{level:3,school:'Conjuration',castingTime:'Action',range:'Self',components:'V, S, M (a prayer scroll)',duration:'Concentration, up to 10 minutes',description:'Protective spirits flit around you in a 15-foot Emanation for the duration. If you are good or neutral, their spectral form appears angelic or fey (your choice). If you are evil, they appear fiendish.\nWhen you cast this spell, you can designate creatures to be unaffected by it. Any other creature\'s Speed is halved in the Emanation, and whenever the Emanation enters a creature\'s space and whenever a creature enters the Emanation or ends its turn there, the creature must make a Wisdom saving throw. On a failed save, the creature takes 3d8 Radiant damage (if you are good or neutral) or 3d8 Necrotic damage (if you are evil). On a successful save, the creature takes half as much damage. A creature makes this save only once per turn.\nUsing a Higher-Level Spell Slot. The damage increases by 1d8 for each spell slot level above 3.',name:'Spirit Guardians'},
  'Stinking Cloud':{level:3,school:'Conjuration',castingTime:'Action',range:'90 feet',components:'V, S, M (a rotten egg)',duration:'Concentration, up to 1 minute',description:'You create a 20-foot-radius Sphere of yellow, nauseating gas centered on a point within range. The cloud is Heavily Obscured. The cloud lingers in the air for the duration or until a strong wind (such as the one created by Gust of Wind) disperses it.\nEach creature that starts its turn in the Sphere must succeed on a Constitution saving throw or have the Poisoned condition until the end of the current turn. While Poisoned in this way, the creature can\'t take an action or a Bonus Action.',name:'Stinking Cloud'},
  'Summon Fey':{level:3,school:'Conjuration',castingTime:'Action',range:'90 feet',components:'V, S, M (a gilded flower worth 300+ GP)',duration:'Concentration, up to 1 hour',description:'You call forth a Fey spirit. It manifests in an unoccupied space that you can see within range and uses the Fey Spirit stat block. When you cast the spell, choose a mood: Fuming, Mirthful, or Tricksy. The creature resembles a Fey creature of your choice marked by the chosen mood, which determines certain details in its stat block. The creature disappears when it drops to o Hit Points or when the spell ends. The creature is an ally to you and your allies. In combat, the creature shares your Initiative count, but it takes its turn immediately after yours. It obeys your verbal commands (no action required by you). If you don\'t issue any, it takes the Dodge action and uses its movement to avoid danger.\nUsing a Higher-Level Spell Slot. Use the spell slot\'s level for the spell\'s level in the stat block.',name:'Summon Fey'},
  'Summon Undead':{level:3,school:'Necromancy',castingTime:'Action',range:'90 feet',components:'V, S, M (a gilded skull worth 300+ GP)',duration:'Concentration, up to 1 hour',description:'You call forth an Undead spirit. It manifests in an unoccupied space that you can see within range and uses the Undead Spirit stat block. When you cast the spell, choose the creature\'s form: Ghostly, Putrid, or Skeletal. The spirit resembles an Undead creature with the chosen form, which determines certain details in its stat block. The creature disappears when it drops to o Hit Points or when the spell ends.\nThe creature is an ally to you and your allies. In combat, the creature shares your Initiative count, but it takes its turn immediately after yours. It obeys your verbal commands (no action required by you). If you don\'t issue any, it takes the Dodge action and uses its movement to avoid danger.\nUsing a Higher-Level Spell Slot. Use the spell slot\'s level for the spell\'s level in the stat block.',name:'Summon Undead'},
  'Tongues':{level:3,school:'Divination',castingTime:'Action',range:'Touch',components:'V, M (a miniature ziggurat)',duration:'1 hour',description:'This spell grants the creature you touch the ability to understand any spoken or signed language that it hears or sees. Moreover, when the target communicates by speaking or signing, any creature that knows at least one language can understand it if that creature can hear the speech or see the signing.',name:'Tongues'},
  'Vampiric Touch':{level:3,school:'Necromancy',castingTime:'Action',range:'Self',components:'V, S',duration:'Concentration, up to 1 minute',description:'The touch of your shadow-wreathed hand can siphon life force from others to heal your wounds. Make a melee spell attack against one creature within reach. On a hit, the target takes 3d6 Necrotic damage, and you regain Hit Points equal to half the amount of Necrotic damage dealt.\nUntil the spell ends, you can make the attack again on each of your turns as a Magic action, targeting the same creature or a different one.\nUsing a Higher-Level Spell Slot. The damage increases by 1d6 for each spell slot level above 3.',name:'Vampiric Touch'},
  'Water Breathing':{level:3,school:'Transmutation',castingTime:'Action or Ritual',range:'30 feet',components:'V, S, M (a short reed)',duration:'24 hours',description:'This spell grants up to ten willing creatures of your choice within range the ability to breathe underwater until the spell ends. Affected creatures also retain their normal mode of respiration.',name:'Water Breathing'},
  'Water Walk':{level:3,school:'Transmutation',castingTime:'Action or Ritual',range:'30 feet',components:'V, S, M (a piece of cork)',duration:'1 hour',description:'This spell grants the ability to move across any liquid surface—such as water, acid, mud, snow, quicksand, or lava—as if it were harmless solid ground (creatures crossing molten lava can still take damage from the heat). Up to ten willing creatures of your choice within range gain this ability for the duration.\nAn affected target must take a Bonus Action to pass from the liquid\'s surface into the liquid itself and vice versa, but if the target falls into the liquid, the target passes through the surface into the liquid below.',name:'Water Walk'},
  'Wind Wall':{level:3,school:'Evocation',castingTime:'Action',range:'120 feet',components:'V, S, M (a fan and a feather)',duration:'Concentration, up to 1 minute',description:'A wall of strong wind rises from the ground at a point you choose within range. You can make the wall up to 50 feet long, 15 feet high, and 1 foot thick. You can shape the wall in any way you choose so long as it makes one continuous path along the ground. The wall lasts for the duration.\nWhen the wall appears, each creature in its area makes a Strength saving throw, taking 4d8 Bludgeoning damage on a failed save or half as much damage on a successful one.\nThe strong wind keeps fog, smoke, and other gases at bay. Small or smaller flying creatures or objects can\'t pass through the wall. Loose, lightweight materials brought into the wall fly upward. Arrows, bolts, and other ordinary projectiles launched at targets behind the wall are deflected upward and miss automatically. Boulders hurled by Giants or siege engines, and similar projectiles, are unaffected. Creatures in gaseous form can\'t pass through it.',name:'Wind Wall'},
  
  // Level 4
  'Arcane Eye': { name: 'Arcane Eye', level: 4, school: 'Divination', castingTime: 'Action', range: '30 feet', components: 'V, S, M (a bit of bat fur)', duration: 'Concentration, up to 1 hour', description: 'You create an invisible, magical eye that hovers in the air for the duration. You mentally receive visual information from the eye, which has normal vision and darkvision out to 30 feet. The eye can look in every direction.' },
  'Banishment': { name: 'Banishment', level: 4, school: 'Abjuration', castingTime: 'Action', range: '60 feet', components: 'V, S, M (an item distasteful to the target)', duration: 'Concentration, up to 1 minute', description: 'You attempt to send one creature that you can see within range to another plane of existence. The target must succeed on a Charisma saving throw or be banished.' },
  'Blight': { name: 'Blight', level: 4, school: 'Necromancy', castingTime: 'Action', range: '30 feet', components: 'V, S', duration: 'Instantaneous', description: 'Necromantic energy washes over a creature of your choice that you can see within range, draining moisture and vitality from it. The target must make a Constitution saving throw. The target takes 8d8 necrotic damage on a failed save, or half as much damage on a successful one. This spell has no effect on undead or constructs.' },
  'Confusion': { name: 'Confusion', level: 4, school: 'Enchantment', castingTime: 'Action', range: '90 feet', components: 'V, S, M (three nut shells)', duration: 'Concentration, up to 1 minute', description: 'This spell assaults and twists the minds of creatures, spawning delusions and provoking uncontrolled action. Each creature in a 10-foot-radius sphere centered on a point you choose within range must succeed on a Wisdom saving throw or be affected by the spell.' },
  'Control Water': { name: 'Control Water', level: 4, school: 'Transmutation', castingTime: 'Action', range: '300 feet', components: 'V, S, M (a drop of water and a pinch of dust)', duration: 'Concentration, up to 10 minutes', description: 'Until the spell ends, you control any freestanding water inside an area you choose that is a cube of 100 feet on a side. You can choose from any of the following effects when you cast this spell. As an action on your turn, you can repeat the same effect or choose a different one.' },
  'Dimension Door': { name: 'Dimension Door', level: 4, school: 'Conjuration', castingTime: 'Action', range: '500 feet', components: 'V', duration: 'Instantaneous', description: 'You teleport yourself from your current location to any other spot within range. You arrive at exactly the spot desired. It can be a place you can see, one you can visualize, or one you can describe by stating distance and direction.' },
  'Fire Shield': { name: 'Fire Shield', level: 4, school: 'Evocation', castingTime: 'Action', range: 'Self', components: 'V, S, M (a bit of phosphorus or a firefly)', duration: '10 minutes', description: 'Thin wisps of flame wreath your body for the duration, shedding bright light in a 10-foot radius and dim light for an additional 10 feet. You can end the spell early by using an action to dismiss it. The flames provide you with a warm shield or a chill shield, as you choose.' },
  'Greater Invisibility': { name: 'Greater Invisibility', level: 4, school: 'Illusion', castingTime: 'Action', range: 'Touch', components: 'V, S', duration: 'Concentration, up to 1 minute', description: 'You or a creature you touch becomes invisible for the duration. Anything the target is wearing or carrying is invisible as long as it is on the target\'s person. The spell ends for a target that attacks or casts a spell.' },
  'Ice Storm': { name: 'Ice Storm', level: 4, school: 'Evocation', castingTime: 'Action', range: '300 feet', components: 'V, S, M (a pinch of dust and a few drops of water)', duration: 'Instantaneous', description: 'A hail of rock-hard ice pounds to the ground in a 20-foot-radius, 40-foot-high cylinder centered on a point within range. Each creature in the cylinder must make a Dexterity saving throw. A creature takes 2d8 bludgeoning damage and 4d6 cold damage on a failed save, or half as much damage on a successful one.' },
  'Polymorph': { name: 'Polymorph', level: 4, school: 'Transmutation', castingTime: 'Action', range: '60 feet', components: 'V, S, M (a caterpillar cocoon)', duration: 'Concentration, up to 1 hour', description: 'This spell transforms a creature that you can see within range into a new form. An unwilling creature must make a Wisdom saving throw to avoid the effect. The spell has no effect on a shapechanger or a creature with 0 hit points.' },
  'Stoneskin': { name: 'Stoneskin', level: 4, school: 'Abjuration', castingTime: 'Action', range: 'Touch', components: 'V, S, M (diamond dust worth 100 gp, which the spell consumes)', duration: 'Concentration, up to 1 hour', description: 'This spell turns the flesh of a willing creature you touch as hard as stone. Until the spell ends, the target has resistance to nonmagical bludgeoning, piercing, and slashing damage.' },
  'Wall of Fire': { name: 'Wall of Fire', level: 4, school: 'Evocation', castingTime: 'Action', range: '120 feet', components: 'V, S, M (a small piece of phosphorus)', duration: 'Concentration, up to 1 minute', description: 'You create a wall of fire on a solid surface within range. You can make the wall up to 60 feet long, 20 feet high, and 1 foot thick, or a ringed wall up to 20 feet in diameter, 20 feet high, and 1 foot thick. The wall is opaque and lasts for the duration.' },

  // Level 5
  'Animate Objects': { name: 'Animate Objects', level: 5, school: 'Transmutation', castingTime: 'Action', range: '120 feet', components: 'V, S', duration: 'Concentration, up to 1 minute', description: 'Objects come to life at your command. Choose up to ten nonmagical objects within range that are not being worn or carried. Each target animates and becomes a creature under your control until the spell ends or until reduced to 0 hit points.' },
  'Cloudkill': { name: 'Cloudkill', level: 5, school: 'Conjuration', castingTime: 'Action', range: '120 feet', components: 'V, S', duration: 'Concentration, up to 10 minutes', description: 'You create a 20-foot-radius sphere of poisonous, yellow-green fog centered on a point you choose within range. The fog spreads around corners. It lasts for the duration or until strong wind disperses the fog, ending the spell. Its area is heavily obscured.' },
  'Cone of Cold': { name: 'Cone of Cold', level: 5, school: 'Evocation', castingTime: 'Action', range: 'Self (60-foot cone)', components: 'V, S, M (a small crystal or glass cone)', duration: 'Instantaneous', description: 'A blast of cold air erupts from your hands. Each creature in a 60-foot cone must make a Constitution saving throw. A creature takes 8d8 cold damage on a failed save, or half as much damage on a successful one.' },
  'Dominate Person': { name: 'Dominate Person', level: 5, school: 'Enchantment', castingTime: 'Action', range: '60 feet', components: 'V, S', duration: 'Concentration, up to 1 minute', description: 'You attempt to beguile a humanoid that you can see within range. It must succeed on a Wisdom saving throw or be charmed by you for the duration. If you or creatures that are friendly to you are fighting it, it has advantage on the saving throw.' },
  'Hold Monster': { name: 'Hold Monster', level: 5, school: 'Enchantment', castingTime: 'Action', range: '90 feet', components: 'V, S, M (a small, straight piece of iron)', duration: 'Concentration, up to 1 minute', description: 'Choose a creature that you can see within range. The target must succeed on a Wisdom saving throw or be paralyzed for the duration. This spell has no effect on undead. At the end of each of its turns, the target can make another Wisdom saving throw. On a success, the spell ends on the target.' },
  'Wall of Stone': { name: 'Wall of Stone', level: 5, school: 'Evocation', castingTime: 'Action', range: '120 feet', components: 'V, S, M (a small block of granite)', duration: 'Concentration, up to 10 minutes', description: 'A nonmagical wall of solid stone springs into existence at a point you choose within range. The wall is 6 inches thick and is composed of ten 10-foot-by-10-foot panels. Each panel must be contiguous with at least one other panel.' },

  // Level 6
  'Chain Lightning': { name: 'Chain Lightning', level: 6, school: 'Evocation', castingTime: 'Action', range: '150 feet', components: 'V, S, M (a bit of fur; a piece of amber, glass, or a crystal rod; and three silver pins)', duration: 'Instantaneous', description: 'You create a bolt of lightning that arcs toward a target of your choice that you can see within range. Three bolts then leap from that target to as many as three other targets, each of which must be within 30 feet of the first target. A target can be a creature or an object and can be targeted by only one of the bolts.' },
  'Disintegrate': { name: 'Disintegrate', level: 6, school: 'Transmutation', castingTime: 'Action', range: '60 feet', components: 'V, S, M (a lodestone and a pinch of dust)', duration: 'Instantaneous', description: 'A thin green ray springs from your pointing finger to a target that you can see within range. The target can be a creature, an object, or a creation of magical force, such as the wall created by wall of force. A creature targeted by this spell must make a Dexterity saving throw. On a failed save, the target takes 10d6 + 40 force damage.' },
  'Heal': { name: 'Heal', level: 6, school: 'Evocation', castingTime: 'Action', range: '60 feet', components: 'V, S', duration: 'Instantaneous', description: 'Choose a creature that you can see within range. A surge of positive energy washes through the creature, causing it to regain 70 hit points. This spell also ends blindness, deafness, and any diseases affecting the target.' },
  'True Seeing': { name: 'True Seeing', level: 6, school: 'Divination', castingTime: 'Action', range: 'Touch', components: 'V, S, M (an ointment for the eyes that costs 25 gp)', duration: '1 hour', description: 'This spell gives the willing creature you touch the ability to see things as they actually are. For the duration, the creature has truesight, notices secret doors hidden by magic, and can see into the Ethereal Plane, all out to a range of 120 feet.' },

  // Level 7
  'Fire Storm': { name: 'Fire Storm', level: 7, school: 'Evocation', castingTime: 'Action', range: '150 feet', components: 'V, S', duration: 'Instantaneous', description: 'A roaring wall of fire appears at a point you choose within range. The wall appears in any orientation you choose: horizontally, vertically, or diagonally. It can be free floating or resting on a solid surface. The wall can be up to 60 feet long, 20 feet high, and 1 foot thick.' },
  'Plane Shift': { name: 'Plane Shift', level: 7, school: 'Conjuration', castingTime: 'Action', range: 'Touch', components: 'V, S, M (a forked, metal rod worth at least 250 gp, attuned to a particular plane of existence)', duration: 'Instantaneous', description: 'You and up to eight willing creatures who link hands in a circle are transported to a different plane of existence. You can specify a target destination in general terms, such as the City of Brass on the Elemental Plane of Fire or the palace of Dispater on the second level of the Nine Hells, and you appear in or near that destination.' },
  'Resurrection': { name: 'Resurrection', level: 7, school: 'Necromancy', castingTime: '1 hour', range: 'Touch', components: 'V, S, M (a diamond worth at least 1,000 gp, which the spell consumes)', duration: 'Instantaneous', description: 'You touch a dead creature that has been dead for no more than a century, that didn\'t die of old age, and that isn\'t undead. If its soul is free and willing, the creature is restored to life with all its hit points.' },

  // Level 8
  'Dominate Monster': { name: 'Dominate Monster', level: 8, school: 'Enchantment', castingTime: 'Action', range: '60 feet', components: 'V, S', duration: 'Concentration, up to 1 hour', description: 'You attempt to beguile a creature that you can see within range. It must succeed on a Wisdom saving throw or be charmed by you for the duration. While the creature is charmed, you have a telepathic link with it as long as the two of you are on the same plane of existence.' },
  'Sunburst': { name: 'Sunburst', level: 8, school: 'Evocation', castingTime: 'Action', range: '150 feet', components: 'V, S, M (fire and a piece of sunstone)', duration: 'Instantaneous', description: 'Brilliant sunlight flashes in a 60-foot radius centered on a point you choose within range. Each creature in that light must make a Constitution saving throw. On a failed save, a creature takes 12d6 radiant damage and is blinded for 1 minute.' },

  // Level 9
  'Meteor Swarm': { name: 'Meteor Swarm', level: 9, school: 'Evocation', castingTime: 'Action', range: '1 mile', components: 'V, S', duration: 'Instantaneous', description: 'Blazing orbs of fire plummet to the ground at four different points you can see within range. Each creature in a 40-foot-radius sphere centered on each point you choose must make a Dexterity saving throw. The sphere spreads around corners. A creature takes 20d6 fire damage and 20d6 bludgeoning damage on a failed save, or half as much damage on a successful one.' },
  'True Resurrection': { name: 'True Resurrection', level: 9, school: 'Necromancy', castingTime: '1 hour', range: 'Touch', components: 'V, S, M (a diamond worth at least 25,000 gp, which the spell consumes)', duration: 'Instantaneous', description: 'You touch a creature that has been dead for no longer than 200 years and that died for any reason except old age. If the creature\'s soul is free and willing, the creature is restored to life with all its hit points.' },
  'Wish': { name: 'Wish', level: 9, school: 'Conjuration', castingTime: 'Action', range: 'Self', components: 'V', duration: 'Instantaneous', description: 'Wish is the mightiest spell a mortal creature can cast. By simply speaking aloud, you can alter the very foundations of reality in accord with your desires.' },
};


// Generate a spell list grouped by level from the main SPELL_DETAILS object.
export const SAMPLE_SPELLS_BY_LEVEL: Record<string, string[]> = Object.values(SPELL_DETAILS)
  .reduce((acc: Record<string, string[]>, spell) => {
    const level = spell.level.toString();
    if (!acc[level]) {
        acc[level] = [];
    }
    acc[level].push(spell.name);
    return acc;
}, {});

// Sort spell names alphabetically within each level
for (const level in SAMPLE_SPELLS_BY_LEVEL) {
    SAMPLE_SPELLS_BY_LEVEL[level].sort();
}

// --- NEW SPELL LIST CONSTANTS ---

export const ARCANE_SPELLS = ['Acid Splash', 'Blade Ward', 'Chill Touch', 'Dancing Lights', 'Fire Bolt', 'Friends', 'Light', 'Mage Hand', 'Mending', 'Message', 'Minor Illusion', 'Poison Spray', 'Prestidigitation', 'Ray of Frost', 'Shocking Grasp', 'True Strike', 'Alarm', 'Burning Hands', 'Charm Person', 'Chromatic Orb', 'Color Spray', 'Comprehend Languages', 'Detect Magic', 'Disguise Self', 'Feather Fall', 'Find Familiar', 'Fog Cloud', 'Grease', 'Ice Knife', 'Illusory Script', 'Jump', 'Longstrider', 'Mage Armor', 'Magic Missile', 'Shield', 'Silent Image', 'Sleep', 'Tenser\'s Floating Disk', 'Unseen Servant', 'Witch Bolt', 'Alter Self', 'Arcane Lock', 'Blur', 'Cloud of Daggers', 'Continual Flame', 'Crown of Madness', 'Darkness', 'Darkvision', 'Detect Thoughts', 'Enlarge/Reduce', 'Flaming Sphere', 'Gust of Wind', 'Hold Person', 'Invisibility', 'Knock', 'Levitate', 'Magic Mouth', 'Magic Weapon', 'Melf\'s Acid Arrow', 'Mind Spike', 'Mirror Image', 'Misty Step', 'Nystul\'s Magic Aura', 'Phantasmal Force', 'Ray of Enfeeblement', 'Rope Trick', 'Scorching Ray', 'See Invisibility', 'Shatter', 'Silence', 'Spider Climb', 'Suggestion', 'Web', 'Blink', 'Clairvoyance', 'Counterspell', 'Dispel Magic', 'Fear', 'Fireball', 'Fly', 'Gaseous Form', 'Glyph of Warding', 'Haste', 'Hypnotic Pattern', 'Leomund\'s Tiny Hut', 'Lightning Bolt', 'Magic Circle', 'Major Image', 'Nondetection', 'Phantom Steed', 'Sending', 'Slow', 'Stinking Cloud', 'Tongues', 'Vampiric Touch', 'Water Breathing', 'Arcane Eye', 'Banishment', 'Charm Monster', 'Confusion', 'Dimension Door', 'Fabricate', 'Fire Shield', 'Greater Invisibility', 'Hallucinatory Terrain', 'Ice Storm', 'Leomund\'s Secret Chest', 'Locate Creature', 'Mordenkainen\'s Faithful Hound', 'Mordenkainen\'s Private Sanctum', 'Otiluke\'s Resilient Sphere', 'Phantasmal Killer', 'Polymorph', 'Stone Shape', 'Stoneskin', 'Vitriolic Sphere', 'Wall of Fire', 'Animate Objects', 'Bigby\'s Hand', 'Cloudkill', 'Cone of Cold', 'Contact Other Plane', 'Creation', 'Arcane Gate', 'Chain Lightning', 'Circle of Death', 'Contingency', 'Disintegrate', 'Eyebite', 'Globe of Invulnerability', 'Magic Jar', 'Mass Suggestion', 'Move Earth', 'Otto\'s Irresistible Dance', 'Programmed Illusion', 'Sunbeam', 'True Seeing', 'Wall of Ice', 'Wish'];
export const DIVINE_SPELLS = ['Guidance', 'Light', 'Resistance', 'Sacred Flame', 'Spare the Dying', 'Thaumaturgy', 'Word of Radiance', 'Bane', 'Bless', 'Command', 'Cure Wounds', 'Detect Evil and Good', 'Detect Magic', 'Detect Poison and Disease', 'Guiding Bolt', 'Healing Word', 'Inflict Wounds', 'Protection from Evil and Good', 'Purify Food and Drink', 'Sanctuary', 'Shield of Faith', 'Aid', 'Augury', 'Blindness/Deafness', 'Calm Emotions', 'Continual Flame', 'Enhance Ability', 'Find Traps', 'Gentle Repose', 'Hold Person', 'Lesser Restoration', 'Locate Object', 'Prayer of Healing', 'Protection from Poison', 'Silence', 'Spiritual Weapon', 'Warding Bond', 'Zone of Truth', 'Animate Dead', 'Beacon of Hope', 'Bestow Curse', 'Clairvoyance', 'Create Food and Water', 'Daylight', 'Dispel Magic', 'Feign Death', 'Glyph of Warding', 'Magic Circle', 'Mass Healing Word', 'Meld into Stone', 'Protection from Energy', 'Remove Curse', 'Revivify', 'Sending', 'Speak with Dead', 'Spirit Guardians', 'Tongues', 'Water Walk', 'Banishment', 'Control Water', 'Death Ward', 'Divination', 'Freedom of Movement', 'Guardian of Faith', 'Locate Creature', 'Stone Shape', 'Aura of Life', 'Aura of Purity', 'Commune', 'Contagion', 'Circle of Power', 'Blade Barrier', 'Create Undead', 'Forbiddance', 'Harm', 'Heal', 'Heroes\' Feast', 'Planar Ally', 'True Seeing', 'Word of Recall', 'Wish'];
export const PRIMAL_SPELLS = ['Blade Ward', 'Druidcraft', 'Guidance', 'Poison Spray', 'Produce Flame', 'Resistance', 'Shillelagh', 'Thorn Whip', 'Animal Friendship', 'Beast Bond', 'Cure Wounds', 'Detect Magic', 'Detect Poison and Disease', 'Entangle', 'Faerie Fire', 'Fog Cloud', 'Goodberry', 'Healing Word', 'Jump', 'Longstrider', 'Speak with Animals', 'Thunderwave', 'Animal Messenger', 'Barkskin', 'Beast Sense', 'Darkvision', 'Enhance Ability', 'Find Traps', 'Flame Blade', 'Flaming Sphere', 'Gust of Wind', 'Heat Metal', 'Hold Person', 'Lesser Restoration', 'Locate Animals or Plants', 'Locate Object', 'Moonbeam', 'Pass Without Trace', 'Protection from Poison', 'Spike Growth', 'Call Lightning', 'Conjure Animals', 'Daylight', 'Dispel Magic', 'Meld into Stone', 'Plant Growth', 'Protection from Energy', 'Sleet Storm', 'Speak with Plants', 'Water Breathing', 'Water Walk', 'Wind Wall', 'Blight', 'Charm Monster', 'Confusion', 'Conjure Minor Elementals', 'Conjure Woodland Beings', 'Control Water', 'Dominate Beast', 'Freedom of Movement', 'Grasping Vine', 'Hallucinatory Terrain', 'Ice Storm', 'Locate Creature', 'Polymorph', 'Stone Shape', 'Stoneskin', 'Wall of Fire', 'Commune with Nature', 'Cone of Cold', 'Conjure Elemental', 'Contagion', 'Awaken', 'Conjure Fey', 'Find the Path', 'Heal', 'Heroes\' Feast', 'Move Earth', 'Sunbeam', 'Transport via Plants', 'Wall of Thorns', 'Wind Walk'];

export const SPELL_LIST_BY_CLASS: Record<string, string[]> = {
    'Bard': ARCANE_SPELLS,
    'Cleric': DIVINE_SPELLS,
    'Druid': PRIMAL_SPELLS,
    'Paladin': DIVINE_SPELLS,
    'Ranger': PRIMAL_SPELLS,
    'Sorcerer': ARCANE_SPELLS,
    'Warlock': ARCANE_SPELLS,
    'Wizard': ARCANE_SPELLS,
};

// Based on 2024 PHB progression
export const CANTRIPS_KNOWN_BY_LEVEL: Record<string, Record<number, number>> = {
    'Bard': { 1: 2, 4: 3, 10: 4},
    'Cleric': { 1: 3, 4: 4, 10: 5},
    'Druid': { 1: 2, 4: 3, 10: 4},
    'Sorcerer': { 1: 4, 4: 5, 10: 6},
    'Warlock': { 1: 2, 4: 3, 10: 4},
    'Wizard': { 1: 3, 4: 4, 10: 5},
};

// For Known Casters only. Prepared casters calculate this differently.
export const SPELLS_KNOWN_BY_LEVEL: Record<string, Record<number, number>> = {
    'Bard': { 1: 4, 2: 5, 3: 6, 4: 7, 5: 8, 6: 9, 7: 10, 8: 11, 9: 12, 10: 13, 11: 14, 12: 14, 13: 15, 14: 15, 15: 16, 16: 16, 17: 17, 18: 17, 19: 18, 20: 18 },
    'Ranger': { 1: 0, 2: 2, 3: 3, 4: 3, 5: 4, 6: 4, 7: 5, 8: 5, 9: 6, 10: 6, 11: 7, 12: 7, 13: 8, 14: 8, 15: 9, 16: 9, 17: 10, 18: 10, 19: 11, 20: 11 },
    'Sorcerer': { 1: 2, 2: 3, 3: 4, 4: 5, 5: 6, 6: 7, 7: 8, 8: 9, 9: 10, 10: 11, 11: 12, 12: 12, 13: 13, 14: 13, 15: 14, 16: 14, 17: 15, 18: 15, 19: 15, 20: 15 },
    'Warlock': { 1: 2, 2: 3, 3: 4, 4: 5, 5: 6, 6: 7, 7: 8, 8: 9, 9: 10, 10: 10, 11: 11, 12: 11, 13: 12, 14: 12, 15: 13, 16: 13, 17: 14, 18: 14, 19: 15, 20: 15 }
};

export const PREPARED_CASTERS = ['Cleric', 'Druid', 'Paladin', 'Wizard'];

// --- END NEW SPELL LIST CONSTANTS ---

export const SPECIES_LIST = [
  'Human', 'Elf', 'Dwarf', 'Halfling', 'Dragonborn', 'Gnome', 'Orc', 'Tiefling', 'Aasimar', 'Goliath'
];

export const CLASS_LIST = [
  'Barbarian', 'Bard', 'Cleric', 'Druid', 'Fighter', 'Monk', 'Paladin', 'Ranger', 'Rogue', 'Sorcerer', 'Warlock', 'Wizard'
];

export const ALIGNMENTS = [
  'Lawful Good', 'Neutral Good', 'Chaotic Good', 
  'Lawful Neutral', 'True Neutral', 'Chaotic Neutral', 
  'Lawful Evil', 'Neutral Evil', 'Chaotic Evil'
];

export const LANGUAGES = [
  'Common', 'Dwarvish', 'Elvish', 'Giant', 'Gnomish', 'Goblin', 'Halfling', 'Orc', 
  'Abyssal', 'Celestial', 'Draconic', 'Deep Speech', 'Infernal', 'Primordial', 'Sylvan', 'Undercommon'
];

export const SPELLCASTING_ABILITY: Record<string, Ability> = {
    'Bard': 'CHA',
    'Cleric': 'WIS',
    'Druid': 'WIS',
    'Paladin': 'CHA',
    'Ranger': 'WIS',
    'Sorcerer': 'CHA',
    'Warlock': 'CHA',
    'Wizard': 'INT',
};

export const CASTER_TYPE: Record<string, 'full' | 'half' | 'pact' | 'none'> = {
    'Barbarian': 'none', 'Bard': 'full', 'Cleric': 'full', 'Druid': 'full',
    'Fighter': 'none', 'Monk': 'none', 'Paladin': 'half', 'Ranger': 'half',
    'Rogue': 'none', 'Sorcerer': 'full', 'Warlock': 'pact', 'Wizard': 'full',
};

export const MAX_SPELL_LEVEL: Record<'full' | 'half' | 'pact', Record<number, number>> = {
    'full': { 1: 1, 2: 1, 3: 2, 4: 2, 5: 3, 6: 3, 7: 4, 8: 4, 9: 5, 10: 5, 11: 6, 12: 6, 13: 7, 14: 7, 15: 8, 16: 8, 17: 9, 18: 9, 19: 9, 20: 9, },
    'half': { 1: 0, 2: 1, 3: 1, 4: 1, 5: 2, 6: 2, 7: 2, 8: 2, 9: 3, 10: 3, 11: 3, 12: 3, 13: 4, 14: 4, 15: 4, 16: 4, 17: 5, 18: 5, 19: 5, 20: 5, },
    'pact': { 1: 1, 2: 1, 3: 2, 4: 2, 5: 3, 6: 3, 7: 4, 8: 4, 9: 5, 10: 5, 11: 5, 12: 5, 13: 5, 14: 5, 15: 5, 16: 5, 17: 5, 18: 5, 19: 5, 20: 5, }
};

export const ABILITY_NAMES: Record<Ability, string> = {
  STR: 'Strength', DEX: 'Dexterity', CON: 'Constitution',
  INT: 'Intelligence', WIS: 'Wisdom', CHA: 'Charisma'
};

export const SKILL_LIST: Skill[] = [
  'Acrobatics', 'Animal Handling', 'Arcana', 'Athletics', 'Deception', 
  'History', 'Insight', 'Intimidation', 'Investigation', 'Medicine', 
  'Nature', 'Perception', 'Performance', 'Persuasion', 'Religion', 
  'Sleight of Hand', 'Stealth', 'Survival'
];

export const SKILL_ABILITY_MAP: Record<Skill, Ability> = {
  'Acrobatics': 'DEX', 'Animal Handling': 'WIS', 'Arcana': 'INT', 
  'Athletics': 'STR', 'Deception': 'CHA', 'History': 'INT', 
  'Insight': 'WIS', 'Intimidation': 'CHA', 'Investigation': 'INT', 
  'Medicine': 'WIS', 'Nature': 'INT', 'Perception': 'WIS', 
  'Performance': 'CHA', 'Persuasion': 'CHA', 'Religion': 'INT', 
  'Sleight of Hand': 'DEX', 'Stealth': 'DEX', 'Survival': 'WIS'
};

export const CLASS_SAVING_THROWS: Record<string, Ability[]> = {
  'Barbarian': ['STR', 'CON'], 'Bard': ['DEX', 'CHA'], 'Cleric': ['WIS', 'CHA'], 'Druid': ['INT', 'WIS'],
  'Fighter': ['STR', 'CON'], 'Monk': ['STR', 'DEX'], 'Paladin': ['WIS', 'CHA'], 'Ranger': ['STR', 'DEX'],
  'Rogue': ['DEX', 'INT'], 'Sorcerer': ['CON', 'CHA'], 'Warlock': ['WIS', 'CHA'], 'Wizard': ['INT', 'WIS']
};

export const STANDARD_ARRAY = [15, 14, 13, 12, 10, 8];

export const HIT_DIE: Record<string, number> = {
  'Barbarian': 12, 'Fighter': 10, 'Paladin': 10, 'Ranger': 10, 'Bard': 8, 'Cleric': 8, 'Druid': 8, 'Monk': 8, 'Rogue': 8, 'Warlock': 8, 'Sorcerer': 6, 'Wizard': 6
};

export const CLASS_STAT_PRIORITIES: Record<string, Ability[]> = {
  'Barbarian': ['STR', 'CON', 'DEX'], 'Bard': ['CHA', 'DEX', 'CON'], 'Cleric': ['WIS', 'CON', 'STR'], 'Druid': ['WIS', 'CON', 'DEX'],
  'Fighter': ['STR', 'CON', 'DEX'], 'Monk': ['DEX', 'WIS', 'CON'], 'Paladin': ['STR', 'CHA', 'CON'], 'Ranger': ['DEX', 'WIS', 'CON'],
  'Rogue': ['DEX', 'INT', 'CON'], 'Sorcerer': ['CHA', 'CON', 'DEX'], 'Warlock': ['CHA', 'CON', 'DEX'], 'Wizard': ['INT', 'CON', 'DEX']
};

export const CLASS_SKILL_DATA: Record<string, { count: number, options: Skill[] | 'Any' }> = {
  'Barbarian': { count: 2, options: ['Animal Handling', 'Athletics', 'Intimidation', 'Nature', 'Perception', 'Survival'] },
  'Bard': { count: 3, options: 'Any' },
  'Cleric': { count: 2, options: ['History', 'Insight', 'Medicine', 'Persuasion', 'Religion'] },
  'Druid': { count: 2, options: ['Arcana', 'Animal Handling', 'Insight', 'Medicine', 'Nature', 'Perception', 'Religion', 'Survival'] },
  'Fighter': { count: 2, options: ['Acrobatics', 'Animal Handling', 'Athletics', 'History', 'Insight', 'Intimidation', 'Perception', 'Survival'] },
  'Monk': { count: 2, options: ['Acrobatics', 'Athletics', 'History', 'Insight', 'Religion', 'Stealth'] },
  'Paladin': { count: 2, options: ['Athletics', 'Insight', 'Intimidation', 'Medicine', 'Persuasion', 'Religion'] },
  'Ranger': { count: 3, options: ['Animal Handling', 'Athletics', 'Insight', 'Investigation', 'Nature', 'Perception', 'Stealth', 'Survival'] },
  'Rogue': { count: 4, options: ['Acrobatics', 'Athletics', 'Deception', 'Insight', 'Intimidation', 'Investigation', 'Perception', 'Performance', 'Persuasion', 'Sleight of Hand', 'Stealth'] },
  'Sorcerer': { count: 2, options: ['Arcana', 'Deception', 'Insight', 'Intimidation', 'Persuasion', 'Religion'] },
  'Warlock': { count: 2, options: ['Arcana', 'Deception', 'History', 'Intimidation', 'Investigation', 'Nature', 'Religion'] },
  'Wizard': { count: 2, options: ['Arcana', 'History', 'Insight', 'Investigation', 'Medicine', 'Religion'] }
};

export interface BackgroundData {
    description: string;
    scores: Ability[];
    feat: string;
    featDescription?: string;
    skills: Skill[];
    equipment?: string[];
}

export const BACKGROUNDS_DATA: Record<string, BackgroundData> = {
    'Acolyte': { description: 'You spent your early years in a temple.', scores: ['WIS', 'INT', 'CHA'], feat: 'Magic Initiate (Cleric)', featDescription: 'Learn two Cleric cantrips and one 1st-level Cleric spell.', skills: ['Insight', 'Religion'], equipment: ['Holy Symbol', 'Prayer Book', 'Stick of Incense (5)', 'Vestments'] },
    'Artisan': { description: 'You began as an apprentice to a craftsperson.', scores: ['STR', 'DEX', 'INT'], feat: 'Crafter', featDescription: 'Discount on buying nonmagical items. Craft items faster.', skills: ['Investigation', 'Persuasion'], equipment: ['Artisan\'s Tools', 'Traveler\'s Clothes'] },
    'Charlatan': { description: 'You care little for the laws of society.', scores: ['CHA', 'DEX', 'CON'], feat: 'Skilled', featDescription: 'Gain proficiency in 3 Skills or Tools.', skills: ['Deception', 'Sleight of Hand'], equipment: ['Costume', 'Forged Documents', 'Disguise Kit'] },
    'Criminal': { description: 'You have a history of breaking the law.', scores: ['DEX', 'CON', 'INT'], feat: 'Alert', featDescription: 'Proficiency in Initiative. Swap initiative with ally.', skills: ['Sleight of Hand', 'Stealth'], equipment: ['Crowbar', 'Dark Common Clothes', 'Thieves\' Tools'] },
    'Entertainer': { description: 'You thrive in front of an audience.', scores: ['CHA', 'DEX', 'WIS'], feat: 'Musician', featDescription: 'Grant Heroic Inspiration to allies after a rest.', skills: ['Acrobatics', 'Performance'], equipment: ['Musical Instrument', 'Costume', 'Mirror'] },
    'Farmer': { description: 'You grew up close to the land.', scores: ['STR', 'CON', 'WIS'], feat: 'Tough', featDescription: 'Gain +2 HP per level.', skills: ['Animal Handling', 'Nature'], equipment: ['Carpenter\'s Tools', 'Iron Pot', 'Shovel', 'Sickle'] },
    'Guard': { description: 'You served in a militia or guard force.', scores: ['STR', 'INT', 'WIS'], feat: 'Alert', featDescription: 'Proficiency in Initiative. Swap initiative with ally.', skills: ['Athletics', 'Perception'], equipment: ['Manacles', 'Horn', 'Uniform'] },
    'Guide': { description: 'You know the wilderness well.', scores: ['DEX', 'CON', 'WIS'], feat: 'Magic Initiate (Druid)', featDescription: 'Learn two Druid cantrips and one 1st-level Druid spell.', skills: ['Stealth', 'Survival'], equipment: ['Bedroll', 'Tent', 'Quiver'] },
    'Hermit': { description: 'You spent years in seclusion.', scores: ['WIS', 'CON', 'CHA'], feat: 'Healer', featDescription: 'Reroll 1s on healing dice. Use Healer\'s Kit to restore HP.', skills: ['Medicine', 'Religion'], equipment: ['Herbalism Kit', 'Oil Flask', 'Quarterstaff'] },
    'Merchant': { description: 'You know how to make a deal.', scores: ['CHA', 'INT', 'WIS'], feat: 'Lucky', featDescription: 'Gain Luck Points to reroll d20s.', skills: ['Animal Handling', 'Persuasion'], equipment: ['Abacus', 'Quill & Ink', 'Navigator\'s Tools'] },
    'Noble': { description: 'You were raised in wealth and power.', scores: ['CHA', 'INT', 'WIS'], feat: 'Skilled', featDescription: 'Gain proficiency in 3 Skills or Tools.', skills: ['History', 'Persuasion'], equipment: ['Signet Ring', 'Fine Clothes', 'Gaming Set'] },
    'Sage': { description: 'You spent your time studying lore.', scores: ['INT', 'CON', 'WIS'], feat: 'Magic Initiate (Wizard)', featDescription: 'Learn two Wizard cantrips and one 1st-level Wizard spell.', skills: ['Arcana', 'History'], equipment: ['Quarterstaff', 'Book', 'Parchment'] },
    'Sailor': { description: 'You sailed the seas.', scores: ['DEX', 'STR', 'WIS'], feat: 'Tavern Brawler', featDescription: 'Unarmed strikes deal 1d4. Push/Topple on hit.', skills: ['Acrobatics', 'Perception'], equipment: ['Rope (50ft)', 'Navigator\'s Tools'] },
    'Scribe': { description: 'You spent formative years in a scriptorium or library.', scores: ['DEX', 'INT', 'WIS'], feat: 'Skilled', featDescription: 'Gain proficiency in 3 Skills or Tools.', skills: ['Investigation', 'Perception'], equipment: ['Calligrapher\'s Supplies', 'Fine Clothes', 'Lamp', 'Parchment (12 sheets)'] },
    'Soldier': { description: 'You were trained for war.', scores: ['STR', 'DEX', 'CON'], feat: 'Savage Attacker', featDescription: 'Advantage on weapon damage rolls.', skills: ['Athletics', 'Intimidation'], equipment: ['Gaming Set', 'Healer\'s Kit'] },
    'Wayfarer': { description: 'You grew up on the road.', scores: ['DEX', 'WIS', 'CHA'], feat: 'Lucky', featDescription: 'Gain Luck Points to reroll d20s.', skills: ['Insight', 'Stealth'], equipment: ['Map', 'Compass'] }
};

export const CLASS_FEATURES: Record<string, string[]> = {
    'Barbarian': ['Rage', 'Unarmored Defense', 'Weapon Mastery'], 'Bard': ['Bardic Inspiration', 'Spellcasting'], 'Cleric': ['Spellcasting', 'Divine Order'], 'Druid': ['Spellcasting', 'Druidic', 'Primal Order'],
    'Fighter': ['Fighting Style', 'Second Wind', 'Weapon Mastery'], 'Monk': ['Martial Arts', 'Unarmored Defense'], 'Paladin': ['Lay On Hands', 'Spellcasting', 'Weapon Mastery'], 'Ranger': ['Spellcasting', 'Favored Enemy', 'Weapon Mastery'],
    'Rogue': ['Expertise', 'Sneak Attack', 'Thieves\' Cant', 'Weapon Mastery'], 'Sorcerer': ['Spellcasting', 'Innate Sorcery'], 'Warlock': ['Eldritch Invocations', 'Pact Magic'], 'Wizard': ['Spellcasting', 'Ritual Adept', 'Arcane Recovery']
};

export const CLASS_PROGRESSION: Record<string, Record<number, string[]>> = {
    'Barbarian': { 2: ['Reckless Attack', 'Danger Sense'], 3: ['Primal Knowledge'], 5: ['Extra Attack', 'Fast Movement'], 7: ['Feral Instinct', 'Instinctive Pounce'], 9: ['Brutal Strike'], 11: ['Relentless Rage'], 13: ['Improved Brutal Strike'], 15: ['Persistent Rage'], 18: ['Indomitable Might'], 20: ['Primal Champion'] },
    'Bard': { 2: ['Expertise', 'Jack of All Trades'], 5: ['Font of Inspiration'], 7: ['Countercharm'], 10: ['Magical Secrets'], 18: ['Superior Inspiration'], 20: ['Words of Creation'] },
    'Cleric': { 2: ['Channel Divinity'], 5: ['Sear Undead'], 7: ['Blessed Strikes'], 10: ['Divine Intervention'], 14: ['Improved Blessed Strikes'], 20: ['Greater Divine Intervention'] },
    'Druid': { 2: ['Wild Shape', 'Wild Companion'], 5: ['Wild Resurgence'], 7: ['Elemental Fury'], 15: ['Improved Elemental Fury'], 18: ['Beast Spells'], 20: ['Archdruid'] },
    'Fighter': { 2: ['Action Surge', 'Tactical Mind'], 5: ['Extra Attack', 'Tactical Shift'], 9: ['Indomitable', 'Tactical Master'], 11: ['Two Extra Attacks'], 13: ['Studied Attacks'], 17: ['Action Surge (two uses)', 'Indomitable (three uses)'], 20: ['Three Extra Attacks'] },
    'Monk': { 2: ['Monk\'s Focus', 'Unarmored Movement', 'Uncanny Metabolism'], 3: ['Deflect Attacks'], 4: ['Slow Fall'], 5: ['Extra Attack', 'Stunning Strike'], 6: ['Empowered Strikes'], 7: ['Evasion'], 9: ['Acrobatic Movement'], 10: ['Heightened Focus', 'Self-Restoration'], 13: ['Deflect Energy'], 14: ['Disciplined Survivor'], 15: ['Perfect Focus'], 18: ['Superior Defense'], 20: ['Body and Mind'] },
    'Paladin': { 2: ['Fighting Style', 'Paladin\'s Smite'], 5: ['Extra Attack', 'Faithful Steed'], 6: ['Aura of Protection'], 9: ['Abjure Foes'], 10: ['Aura of Courage'], 11: ['Radiant Strikes'], 14: ['Restoring Touch'], 18: ['Aura Expansion'] },
    'Ranger': { 2: ['Deft Explorer', 'Fighting Style'], 5: ['Extra Attack'], 6: ['Roving'], 9: ['Expertise'], 10: ['Tireless'], 13: ['Relentless Hunter'], 14: ['Nature\'s Veil'], 17: ['Precise Hunter'], 18: ['Feral Senses'], 20: ['Foe Slayer'] },
    'Rogue': { 2: ['Cunning Action'], 3: ['Steady Aim'], 5: ['Cunning Strike', 'Uncanny Dodge'], 6: ['Expertise'], 7: ['Evasion', 'Reliable Talent'], 11: ['Improved Cunning Strike'], 14: ['Devious Strikes'], 15: ['Slippery Mind'], 18: ['Elusive'], 20: ['Stroke of Luck'] },
    'Sorcerer': { 2: ['Font of Magic', 'Metamagic'], 5: ['Sorcerous Restoration'], 7: ['Sorcery Incarnate'], 20: ['Arcane Apotheosis'] },
    'Warlock': { 2: ['Magical Cunning'], 9: ['Contact Patron'], 11: ['Mystic Arcanum (level 6)'], 13: ['Mystic Arcanum (level 7)'], 15: ['Mystic Arcanum (level 8)'], 17: ['Mystic Arcanum (level 9)'], 20: ['Eldritch Master'] },
    'Wizard': { 2: ['Scholar'], 5: ['Memorize Spell'], 18: ['Spell Mastery'], 20: ['Signature Spells'] }
};

export interface Trait { name: string; description: string; }
export interface DetailData { name: string; description: string; traits: Trait[]; icon?: string; size?: 'Small' | 'Medium'; speed?: number; }

export const SPECIES_DETAILS: Record<string, DetailData> = {
  'Human': { name: 'Human', description: 'Versatile and ambitious, humans are diverse innovators found across the multiverse.', size: 'Medium', speed: 30, traits: [{ name: 'Resourceful', description: 'You gain Heroic Inspiration whenever you finish a Long Rest.' }, { name: 'Skillful', description: 'You gain proficiency in one Skill of your choice.' }, { name: 'Versatile', description: 'You gain an Origin Feat of your choice (e.g., Skilled, Alert).' }] },
  'Elf': { name: 'Elf', description: 'Magical people of otherworldly grace, living in the world but apart from it.', size: 'Medium', speed: 30, traits: [{ name: 'Darkvision', description: 'See in dim light within 60ft as bright light, and darkness as dim light.' }, { name: 'Fey Ancestry', description: 'Advantage on saves vs Charmed condition. Magic cannot put you to sleep.' }, { name: 'Keen Senses', description: 'Proficiency in the Insight, Perception, or Survival skill.' }, { name: 'Elven Lineage', description: 'Choose Drow (120ft Darkvision, Dancing Lights), High Elf (Prestidigitation, swap on rest), or Wood Elf (Speed 35, Druidcraft).' }, { name: 'Trance', description: 'You don\'t sleep. You meditate for 4 hours to gain the benefits of a Long Rest.' }] },
  'Dwarf': { name: 'Dwarf', description: 'Solid and enduring like the mountains they love, weathering the passage of centuries.', size: 'Medium', speed: 30, traits: [{ name: 'Darkvision', description: '120ft Darkvision range.' }, { name: 'Dwarven Resilience', description: 'Resistance to Poison damage and Advantage on saves vs Poisoned condition.' }, { name: 'Dwarven Toughness', description: 'Hit Point maximum increases by 1, and increases by 1 every time you gain a level.' }, { name: 'Stonecunning', description: 'Bonus Action to gain Tremorsense (range 60ft) on stone surfaces for 10 minutes.' }] },
  'Halfling': { name: 'Halfling', description: 'The diminutive halflings survive by being stout and lucky.', size: 'Small', speed: 30, traits: [{ name: 'Brave', description: 'Advantage on saves vs the Frightened condition.' }, { name: 'Halfling Nimbleness', description: 'You can move through the space of any creature that is a size larger than yours.' }, { name: 'Luck', description: 'When you roll a 1 on a d20 for an attack, check, or save, you can reroll it (must use new roll).' }, { name: 'Naturally Stealthy', description: 'You can take the Hide action even when you are obscured only by a creature that is at least one size larger than you.' }] },
  'Dragonborn': { name: 'Dragonborn', description: 'Born of dragons, they walk proudly through a world that greets them with fearful incomprehension.', size: 'Medium', speed: 30, traits: [{ name: 'Breath Weapon', description: 'Exhale energy (Line or Cone) dealing 1d10 damage (scales with level). Replaces an attack.' }, { name: 'Damage Resistance', description: 'Resistance to the damage type associated with your ancestry (Acid, Fire, Lightning, Poison, or Cold).' }, { name: 'Darkvision', description: 'See in dim light within 60ft as bright light.' }, { name: 'Draconic Flight', description: 'At 5th level, you can sprout spectral wings to fly for 10 minutes (Fly Speed = Speed).' }] },
  'Gnome': { name: 'Gnome', description: 'A slight expression of their vibrant energy, gnomes are curious and inventive.', size: 'Small', speed: 30, traits: [{ name: 'Darkvision', description: 'See in dim light within 60ft as bright light.' }, { name: 'Gnomish Cunning', description: 'Advantage on Intelligence, Wisdom, and Charisma saves.' }, { name: 'Gnomish Lineage', description: 'Choose Forest (Know Minor Illusion, Speak with Animals) or Rock (Know Mending/Prestidigitation, create tiny clockwork devices).' }] },
  'Orc': { name: 'Orc', description: 'Orcs are moved by a powerful passion for life and combat capabilities.', size: 'Medium', speed: 30, traits: [{ name: 'Adrenaline Rush', description: 'Dash as a Bonus Action. When you do, gain Temp HP equal to proficiency bonus.' }, { name: 'Darkvision', description: '120ft Darkvision.' }, { name: 'Relentless Endurance', description: 'When reduced to 0 HP, drop to 1 HP instead (once per Long Rest).' },] },
  'Tiefling': { name: 'Tiefling', description: 'Souls influenced by the Lower Planes, often bearing horns or tails.', size: 'Medium', speed: 30, traits: [{ name: 'Darkvision', description: 'See in dim light within 60ft as bright light.' }, { name: 'Fiendish Legacy', description: 'Choose Abyssal (Poison res, Poison Spray), Chthonic (Necrotic res, Chill Touch), or Infernal (Fire res, Fire Bolt).' }, { name: 'Otherworldly Presence', description: 'You know the Thaumaturgy cantrip.' }] },
  'Aasimar': { name: 'Aasimar', description: 'Souls touched by the power of Mount Celestia, bearing a spark of the divine.', size: 'Medium', speed: 30, traits: [{ name: 'Celestial Resistance', description: 'Resistance to Necrotic and Radiant damage.' }, { name: 'Darkvision', description: 'See in dim light within 60ft as bright light.' }, { name: 'Healing Hands', description: 'Magic Action to heal a creature (roll d4s equal to PB). No spell slots required.' }, { name: 'Light Bearer', description: 'You know the Light cantrip.' }, { name: 'Celestial Revelation', description: 'At 3rd level, transform to deal extra damage and fly or radiate light.' }] },
  'Goliath': { name: 'Goliath', description: 'Strong and reclusive, towering over most other folk.', size: 'Medium', speed: 35, traits: [{ name: 'Giant Ancestry', description: 'Choose one: Cloud (Teleport), Fire (Fire Dmg), Frost (Cold Dmg/Slow), Hill (Topple), Stone (Reaction Reduce Dmg), Storm (Reaction Thunder Dmg).' }, { name: 'Large Form', description: 'Starting at 5th level, you can grow to Large size as a Bonus Action for 10 minutes.' }, { name: 'Powerful Build', description: 'Advantage on checks to end the Grappled condition. Lift as one size larger.' },] }
};

export const CLASS_DETAILS: Record<string, DetailData> = {
  'Barbarian': { name: 'Barbarian', description: 'A fierce warrior who can enter a battle rage.', traits: [{ name: 'Rage', description: 'Bonus Action to enter. Adv on STR checks/saves, Resistance to B/P/S damage, +Rage Damage to STR attacks.' }, { name: 'Unarmored Defense', description: 'AC equals 10 + DEX mod + CON mod when not wearing armor.' }, { name: 'Weapon Mastery', description: 'Unlock special properties (Cleave, Topple) on your chosen weapons.' }] },
  'Bard': { name: 'Bard', description: 'An inspiring magician whose power echoes the music of creation.', traits: [{ name: 'Bardic Inspiration', description: 'Bonus Action to give a die (d6) to an ally to boost d20 rolls.' }, { name: 'Spellcasting', description: 'Cast spells from the Arcane list. Charisma is your casting ability.' }] },
  'Cleric': { name: 'Cleric', description: 'A priestly champion who wields divine magic.', traits: [{ name: 'Spellcasting', description: 'Prepare spells from the Divine list daily. Wisdom is your casting ability.' }, { name: 'Divine Order', description: 'Choose Protector (Heavy Armor + Martial Weapons) or Thaumaturge (Extra Cantrip + Religion bonus).' }] },
  'Druid': { name: 'Druid', description: 'A priest of the Old Faith, wielding the powers of nature.', traits: [{ name: 'Spellcasting', description: 'Prepare Primal spells. Wisdom is your casting ability.' }, { name: 'Druidic', description: 'You know the secret language of Druids.' }, { name: 'Primal Order', description: 'Choose Magician (Extra Cantrip + Arcana/Nature) or Warden (Medium Armor + Martial Weapons).' }] },
  'Fighter': { name: 'Fighter', description: 'A master of martial combat, skilled with a variety of weapons.', traits: [{ name: 'Fighting Style', description: 'Adopt a style like Archery, Defense, or Great Weapon Fighting.' }, { name: 'Second Wind', description: 'Bonus Action to regain HP (1d10 + level). Uses vary by level.' }, { name: 'Weapon Mastery', description: 'Master 3 weapons to use their tactical properties.' }] },
  'Monk': { name: 'Monk', description: 'A master of martial arts, harnessing body and spirit.', traits: [{ name: 'Martial Arts', description: 'Use DEX instead of STR for Monk weapons/unarmed. Bonus Action unarmed strike.' }, { name: 'Unarmored Defense', description: 'AC equals 10 + DEX mod + WIS mod.' }] },
  'Paladin': { name: 'Paladin', description: 'A holy warrior bound to a sacred oath.', traits: [{ name: 'Lay On Hands', description: 'Bonus Action to heal creatures from a pool of HP.' }, { name: 'Spellcasting', description: 'Prepare Divine spells. You can change them after a Long Rest.' }, { name: 'Weapon Mastery', description: 'Master 2 weapons to use their tactical properties.' }] },
  'Ranger': { name: 'Ranger', description: 'A warrior who combats threats on the edges of civilization.', traits: [{ name: 'Spellcasting', description: 'Prepare Primal spells. Wisdom is your casting ability.' }, { name: 'Favored Enemy', description: 'You always have Hunter\'s Mark prepared. Cast it without a slot (limited use).' }, { name: 'Weapon Mastery', description: 'Master 2 weapons to use their tactical properties.' }] },
  'Rogue': { name: 'Rogue', description: 'A scoundrel who uses stealth and trickery.', traits: [{ name: 'Expertise', description: 'Double proficiency bonus in two chosen skills.' }, { name: 'Sneak Attack', description: 'Deal extra damage (1d6) once per turn if you have Advantage or an ally nearby.' }, { name: 'Weapon Mastery', description: 'Master 2 weapons to use their tactical properties.' }, { name: 'Thieves\' Cant', description: 'A secret mix of dialect, jargon, and code.' }] },
  'Sorcerer': { name: 'Sorcerer', description: 'A spellcaster who draws on inherent magic.', traits: [{ name: 'Spellcasting', description: 'Cast Arcane spells spontaneously. Charisma is your casting ability.' }, { name: 'Innate Sorcery', description: 'Bonus Action to activate a rage-like state increasing spell DC and attack advantage.' }] },
  'Warlock': { name: 'Warlock', description: 'A wielder of magic derived from a pact.', traits: [{ name: 'Eldritch Invocations', description: 'Customize your powers with unique magical fragments.' }, { name: 'Pact Magic', description: 'Spell slots are always max level and recharge on a Short Rest.' }] },
  'Wizard': { name: 'Wizard', description: 'A scholarly magic-user manipulating reality.', traits: [{ name: 'Spellcasting', description: 'Learn Arcane spells from scrolls and your spellbook.' }, { name: 'Ritual Adept', description: 'Cast ritual spells without using a spell slot.' }, { name: 'Arcane Recovery', description: 'Regain some spell slots on a Short Rest (once per day).' }] }
};

export const GENERIC_FEATURES: Record<string, string> = {
  'Action Surge': 'You can push yourself beyond your normal limits for a moment. On your turn, you can take one additional action.', 'Cunning Action': 'You can take a Bonus Action on each of your turns in combat. This action can be used only to take the Dash, Disengage, or Hide action.', 'Divine Smite': 'When you hit a creature with a melee weapon attack, you can expend one spell slot to deal radiant damage to the target.', 'Wild Shape': 'You can use your Magic action to magically assume the shape of a beast that you have seen before.', 'Extra Attack': 'You can attack twice, instead of once, whenever you take the Attack action on your turn.',
  'Reckless Attack': 'When you make your first attack on your turn, you can decide to attack recklessly. You have advantage on melee weapon attack rolls using Strength during this turn, but attack rolls against you have advantage until your next turn.', 'Danger Sense': 'You have advantage on Dexterity saving throws against effects that you can see, such as traps and spells.', 'Fighting Style': 'You adopt a particular style of fighting as your specialty (e.g., Archery, Defense, Dueling).', 'Deft Explorer': 'You are an unsurpassed explorer and survivor.', 'Step of the Wind': 'You can spend a Focus Point to take the Disengage or Dash action as a Bonus Action, and your jump distance is doubled for the turn.',
  'Patient Defense': 'You can spend a Focus Point to take the Dodge action as a Bonus Action.', 'Uncanny Metabolism': 'When you roll Initiative, you can regain all expended Focus Points. Once per Long Rest.', 'Destroy Undead': 'When an undead fails its saving throw against your Turn Undead feature, the creature is instantly destroyed if its Challenge Rating is at or below a certain threshold.', 'Wild Resurgence': 'You can expend a spell slot to regain a use of Wild Shape, or expend a Wild Shape use to regain a spell slot.', 'Uncanny Dodge': 'When an attacker that you can see hits you with an attack, you can use your reaction to halve the attack\'s damage against you.', 'Sorcerous Restoration': 'You regain Sorcery Points whenever you finish a Short Rest or Long Rest.',
  'Eldritch Invocation': 'In your study of occult lore, you have unearthed Eldritch Invocations, fragments of forbidden knowledge that imbue you with an abiding magical ability.', 'Arcane Recovery': 'Once per day when you finish a Short Rest, you can choose expended spell slots to recover.', 'Tactical Mind': 'When you fail an ability check, you can expend a use of Second Wind to add 1d10 to the roll.', 'Ability Score Improvement': 'You can increase one Ability Score by 2, or two Ability Scores by 1. Alternatively, you can take a Feat.', 'Tactical Shift': 'Whenever you activate your Second Wind with a Bonus Action, you can move up to half your Speed without provoking Opportunity Attacks.', 'Primal Knowledge': 'Gain proficiency in another skill. While Raging, use Strength for Acrobatics, Intimidation, Perception, Stealth, or Survival checks.',
  'Instinctive Pounce': 'As part of the Bonus Action to enter Rage, you can move up to half your Speed.', 'Magical Cunning': 'Perform a 1-minute rite to regain expended Pact Magic spell slots (up to half max). Once per Long Rest.', 'Memorize Spell': 'Whenever you finish a Short Rest, you can study your spellbook and replace one prepared level 1+ spell.', 'Scholar': 'You have Expertise in one of the following skills: Arcana, History, Investigation, Medicine, Nature, or Religion.', 'Metamagic': 'You gain the ability to twist your spells to suit your needs.', 'Font of Magic': 'You can tap into the wellspring of magic within yourself, represented by Sorcery Points.', 'Innate Sorcery': 'Bonus Action to activate a rage-like state increasing spell DC and gain Advantage on Sorcerer spell attacks for 1 minute.', 'Cunning Strike': 'Trade Sneak Attack damage dice for special effects like Poison (1d6), Trip (1d6), or Withdraw (1d6).', 'Steady Aim': 'Bonus Action to give yourself Advantage on next attack roll. Speed becomes 0.', 'Roving': 'Speed increases by 10 ft. Gain Climb and Swim speeds equal to Speed.', 'Tireless': 'Action to gain Temp HP. Reduce Exhaustion on Short Rest.', 'Nature\'s Veil': 'Bonus Action to become Invisible until the end of your next turn.',
  'Paladin\'s Smite': 'You always have Divine Smite prepared. Cast it once without a slot per Long Rest.', 'Faithful Steed': 'You always have Find Steed prepared. Cast it once without a slot per Long Rest.', 'Abjure Foes': 'Channel Divinity to Frighten foes and restrict their actions.', 'Monk\'s Focus': 'You have a pool of Focus Points to fuel your monk features.', 'Deflect Attacks': 'Reaction to reduce damage from melee or ranged attacks. Spend Focus to redirect.', 'Divine Order': 'Choose Protector (Heavy Armor/Martial Weapons) or Thaumaturge (Extra Cantrip/Skill Bonus).', 'Sear Undead': 'Turn Undead deals Radiant damage.', 'Blessed Strikes': 'Choose Divine Strike (extra damage) or Potent Spellcasting (cantrip damage).', 'Divine Intervention': 'As a Magic Action, cast any Cleric spell of level 5 or lower without a slot.',
  'Magical Secrets': 'Choose prepared spells from the Cleric, Druid, or Wizard spell lists.', 'Words of Creation': 'You always have Power Word Heal and Power Word Kill prepared.', 'Primal Order': 'Choose Magician (Extra Cantrip/Skill Bonus) or Warden (Medium Armor/Martial Weapons).', 'Elemental Fury': 'Choose Potent Spellcasting (cantrip damage) or Primal Strike (weapon elemental damage).', 'Tactical Master': 'When you attack with a weapon whose mastery property you can use, you can replace that property with Push, Sap, or Slow.', 'Studied Attacks': 'If you make an attack roll against a creature and miss, you have Advantage on your next attack roll against that creature.', 'Brutal Strike': 'If you use Reckless Attack, you can forgo Advantage to deal extra 1d10 damage and apply an effect like Forceful Blow or Hamstring Blow.',
  'Relentless Hunter': 'Taking damage can\'t break your Concentration on Hunter\'s Mark.', 'Deflect Energy': 'You can now use Deflect Attacks against attacks that deal any damage type, not just B/P/S.', 'Contact Patron': 'You always have Contact Other Plane prepared and can cast it without a slot once per Long Rest (success guaranteed).', 'Mystic Arcanum': 'Choose a high-level spell (6th, 7th, 8th, or 9th) to cast once per Long Rest without a slot.', 'Eldritch Master': 'When you use Magical Cunning, you regain all expended Pact Magic spell slots.'
};

export interface SubclassData { name: string; description: string; features: Record<number, Trait[]>; }
export const SUBCLASS_OPTIONS: Record<string, SubclassData[]> = {
  'Barbarian': [{ name: 'Path of the Berserker', description: 'Frenzy into a fury that allows extra attacks.', features: { 3: [{ name: 'Frenzy', description: 'When you Rage, you can make a generic unarmed strike or weapon attack as a Bonus Action.' }], 6: [{ name: 'Mindless Rage', description: 'You have immunity to the Charmed and Frightened conditions while Raging.' }] } }, { name: 'Path of the Wild Heart', description: 'Adopt the aspects of animal spirits.', features: { 3: [{ name: 'Animal Speaker', description: 'You can cast Beast Sense and Speak with Animals as rituals.' }, { name: 'Rage of the Wilds', description: 'Choose Bear (Resist all dmg but psychic), Eagle (Disengage/Dash bonus), or Wolf (Advantage for allies).' }] } }, { name: 'Path of the World Tree', description: 'Draw on the vitality of the multiverse.', features: { 3: [{ name: 'Vitality of the Tree', description: 'When you Rage, you gain Temp HP. At start of turn, give Temp HP to ally.' }] } }, { name: 'Path of the Zealot', description: 'Channel divine power into your rage.', features: { 3: [{ name: 'Divine Fury', description: 'While Raging, first hit deals extra Necrotic or Radiant damage (1d6 + Level).' }] } },],
  'Bard': [{ name: 'College of Dance', description: 'Channel the cosmos through agility and movement.', features: { 3: [{ name: 'Dazzling Footwork', description: 'Unarmored Defense (10+DEX+CHA). Unarmed Strikes use Bardic Die. Agile movement.' }] } }, { name: 'College of Glamour', description: 'Weave the magic of the Feywild into your performance.', features: { 3: [{ name: 'Mantle of Inspiration', description: 'Use Bardic Inspiration to give allies Temp HP and free movement.' }] } }, { name: 'College of Lore', description: 'Collect knowledge and magical secrets from everywhere.', features: { 3: [{ name: 'Cutting Words', description: 'Use Reaction and Bardic Inspiration to reduce an enemy attack, check, or damage roll.' }, { name: 'Bonus Proficiencies', description: 'Gain 3 Skill Proficiencies.' }] } }, { name: 'College of Valor', description: 'Inspire heroes in battle and fight alongside them.', features: { 3: [{ name: 'Combat Inspiration', description: 'Allies can use your Inspiration to add to AC or Damage.' }, { name: 'Martial Training', description: 'Proficiency with Martial Weapons and Medium Armor/Shields.' }] } },],
  'Cleric': [{ name: 'Life Domain', description: 'Preserve life and heal the wounded.', features: { 3: [{ name: 'Disciple of Life', description: 'Healing spells cure extra HP (2 + Spell Level).' }, { name: 'Preserve Life', description: 'Channel Divinity to heal injured creatures up to half HP.' }] } }, { name: 'Light Domain', description: 'Wield the power of light and fire.', features: { 3: [{ name: 'Warding Flare', description: 'Reaction to impose Disadvantage on an attack against you.' }, { name: 'Radiance of the Dawn', description: 'Channel Divinity to deal Radiant damage to foes within 30ft.' }] } }, { name: 'Trickery Domain', description: 'Sow chaos and deceive your enemies.', features: { 3: [{ name: 'Blessing of the Trickster', description: 'Grant Advantage on Stealth checks to another creature.' }] } }, { name: 'War Domain', description: 'Serve as a champion of a war god.', features: { 3: [{ name: 'War Priest', description: 'Make a weapon attack as a Bonus Action (limited uses).' }] } },],
  'Druid': [{ name: 'Circle of the Land', description: 'Draw magic from specific environments.', features: { 3: [{ name: 'Circle Spells', description: 'Recover spell slots on Short Rest. Always prepared spells based on land type.' }] } }, { name: 'Circle of the Moon', description: 'Master Wild Shape into powerful combat forms.', features: { 3: [{ name: 'Combat Wild Shape', description: 'Wild Shape as Bonus Action. Cast Abjuration spells while shaped.' }, { name: 'Circle Forms', description: 'Transform into more dangerous beasts (CR 1).' }] } }, { name: 'Circle of the Sea', description: 'Channel the wrath of the ocean.', features: { 3: [{ name: 'Wrath of the Sea', description: 'Emanate a storm aura dealing Cold/Lightning damage.' }] } }, { name: 'Circle of the Stars', description: 'Harness the power of constellations.', features: { 3: [{ name: 'Starry Form', description: 'Bonus Action to enter Archer, Chalice, or Dragon form.' }] } },],
  'Fighter': [{ name: 'Battle Master', description: 'Master tactical maneuvers to control the battlefield.', features: { 3: [{ name: 'Combat Superiority', description: 'Gain Superiority Dice (d8) and Maneuvers (e.g., Trip Attack, Parry).' }, { name: 'Student of War', description: 'Proficiency with one Artisan Tool.' }] } }, { name: 'Champion', description: 'Focus on raw physical power and critical hits.', features: { 3: [{ name: 'Improved Critical', description: 'Your weapon attacks score a critical hit on a roll of 19 or 20.' }, { name: 'Remarkable Athlete', description: 'Advantage on Initiative and some Athletics checks.' }] } }, { name: 'Eldritch Knight', description: 'Combine martial prowess with wizard spells.', features: { 3: [{ name: 'Spellcasting', description: 'Cast Wizard spells (Abjuration/Evocation).' }, { name: 'Weapon Bond', description: 'Summon your bonded weapon to your hand.' }] } }, { name: 'Psi Warrior', description: 'Augment your strikes with psionic power.', features: { 3: [{ name: 'Psionic Power', description: 'Use dice to reduce damage, strike harder, or move objects.' }] } },],
  'Monk': [{ name: 'Warrior of Mercy', description: 'Manipulate life force to heal or harm.', features: { 3: [{ name: 'Hand of Harm', description: 'Deal extra Necrotic damage.' }, { name: 'Hand of Healing', description: 'Heal creature with Focus Point.' }] } }, { name: 'Warrior of Shadow', description: 'Master stealth and shadow magic.', features: { 3: [{ name: 'Shadow Arts', description: 'Cast Darkness, Darkvision, etc. using Focus Points. See through magical darkness.' }] } }, { name: 'Warrior of the Elements', description: 'Channel elemental energy into your strikes.', features: { 3: [{ name: 'Elemental Attunement', description: 'Reach increases. Deal elemental damage type.' }] } }, { name: 'Warrior of the Open Hand', description: 'Master the ultimate martial arts techniques.', features: { 3: [{ name: 'Open Hand Technique', description: 'Impose effects (Topple, Push, No Reactions) on Flurry of Blows.' }] } },],
  'Paladin': [{ name: 'Oath of Devotion', description: 'Embody the ideals of justice and virtue.', features: { 3: [{ name: 'Sacred Weapon', description: 'Add CHA mod to attack rolls.' }] } }, { name: 'Oath of Glory', description: 'Believe that destiny awaits those who earn it.', features: { 3: [{ name: 'Peerless Athlete', description: 'Advantage on Athletics/Acrobatics. Jump distance increases.' }] } }, { name: 'Oath of the Ancients', description: 'Protect the light and the natural world.', features: { 3: [{ name: 'Nature\'s Wrath', description: 'Restrain foes with spectral vines.' }] } }, { name: 'Oath of Vengeance', description: 'Punish those who commit grievous sins.', features: { 3: [{ name: 'Vow of Enmity', description: 'Gain Advantage on attacks against one creature for 1 minute.' }] } },],
  'Ranger': [{ name: 'Beast Master', description: 'Bond with a primal beast companion.', features: { 3: [{ name: 'Primal Companion', description: 'Summon a Beast of the Land, Air, or Sea to fight alongside you.' }] } }, { name: 'Fey Wanderer', description: 'Represent the courts of the Feywild.', features: { 3: [{ name: 'Dreadful Strikes', description: 'Deal extra psychic damage once per turn.' }, { name: 'Otherworldly Glamour', description: 'Add WIS mod to Charisma checks.' }] } }, { name: 'Gloom Stalker', description: 'Strike from the shadows of the Underdark.', features: { 3: [{ name: 'Dread Ambusher', description: 'Bonus to Initiative. Extra attack and damage on first turn of combat.' }, { name: 'Umbral Sight', description: 'Invisible to Darkvision.' }] } }, { name: 'Hunter', description: 'Protect civilization from the terrors of the wild.', features: { 3: [{ name: 'Hunter\'s Prey', description: 'Choose Colossus Slayer (hurt foes), Giant Killer (reaction attack), or Horde Breaker (extra attack).' }] } },],
  'Rogue': [{ name: 'Arcane Trickster', description: 'Augment your skills with enchantment and illusion.', features: { 3: [{ name: 'Spellcasting', description: 'Cast Wizard spells.' }, { name: 'Mage Hand Legerdemain', description: 'Invisible Mage Hand for thievery.' }] } }, { name: 'Assassin', description: 'Master the art of death and infiltration.', features: { 3: [{ name: 'Assassinate', description: 'Advantage against creatures who haven\'t acted. Auto-crit on Surprise.' }] } }, { name: 'Soulknife', description: 'Strike with blades of psychic energy.', features: { 3: [{ name: 'Psychic Blades', description: 'Manifest blades to attack. Bonus action attack available.' }, { name: 'Psi-Bolstered Knack', description: 'Add die to failed ability checks.' }] } }, { name: 'Thief', description: 'Hone your skills in larceny and agility.', features: { 3: [{ name: 'Fast Hands', description: 'Use Cunning Action for Sleight of Hand, Thieves Tools, or Use an Object.' }, { name: 'Second-Story Work', description: 'Climb speed equals walk speed.' }] } },],
  'Sorcerer': [{ name: 'Aberrant Sorcery', description: 'Your magic comes from an alien influence.', features: { 3: [{ name: 'Psionic Spells', description: 'Learn Mind Sliver and other psionic spells.' }] } }, { name: 'Clockwork Sorcery', description: 'Channel the order of Mechanus.', features: { 3: [{ name: 'Restore Balance', description: 'Reaction to neutralize Advantage/Disadvantage.' }] } }, { name: 'Draconic Sorcery', description: 'Draw on the magic of dragon blood.', features: { 3: [{ name: 'Draconic Resilience', description: 'AC is 13 + DEX. HP increases.' }] } }, { name: 'Wild Magic Sorcery', description: 'Channel the chaotic forces of the multiverse.', features: { 3: [{ name: 'Wild Magic Surge', description: 'Chance to trigger random magical effects when casting.' }, { name: 'Tides of Chaos', description: 'Gain Advantage on one roll.' }] } },],
  'Warlock': [{ name: 'Archfey Patron', description: 'A pact with a lord or lady of the Feywild.', features: { 3: [{ name: 'Steps of the Fey', description: 'Misty Step uses. Teleport effects.' }] } }, { name: 'Celestial Patron', description: 'A pact with a being of the Upper Planes.', features: { 3: [{ name: 'Healing Light', description: 'Pool of d6s to heal as Bonus Action.' }] } }, { name: 'Fiend Patron', description: 'A pact with a devil from the Lower Planes.', features: { 3: [{ name: 'Dark One\'s Blessing', description: 'Gain Temp HP when you reduce a hostile creature to 0 HP.' }] } }, { name: 'Great Old One Patron', description: 'A pact with an eldritch entity.', features: { 3: [{ name: 'Awakened Mind', description: 'Telepathic communication.' }] } },],
  'Wizard': [{ name: 'Abjurer', description: 'Master of protective magic and wards.', features: { 3: [{ name: 'Arcane Ward', description: 'Create a magical ward that absorbs damage.' }] } }, { name: 'Diviner', description: 'Master of seeking information and seeing the future.', features: { 3: [{ name: 'Portent', description: 'Roll 2d20 after Long Rest. Replace any roll with these values.' }] } }, { name: 'Evoker', description: 'Master of destructive elemental energy.', features: { 3: [{ name: 'Sculpt Spells', description: 'Protect allies from your area of effect spells.' }] } }, { name: 'Illusionist', description: 'Master of deception and phantasms.', features: { 3: [{ name: 'Improved Minor Illusion', description: 'Minor Illusion has both sound and image.' }] } },]
};

export const MASTERY_DESCRIPTIONS: Record<string, string> = {
  'Cleave': 'If you hit a creature, you can make a second attack against a different creature within 5 feet of it.', 'Graze': 'If you miss a creature, you deal damage equal to the ability modifier you used for the attack.', 'Nick': 'When you make the extra attack of the Light property, you can make it as part of the Attack action.', 'Push': 'If you hit a creature, you can push it 10 feet away from you.', 'Sap': 'If you hit a creature, it has Disadvantage on its next attack roll before the start of your next turn.', 'Slow': 'If you hit a creature, its Speed is reduced by 10 feet until the start of your next turn.', 'Topple': 'If you hit a creature, you can force it to make a Constitution save or fall Prone.', 'Vex': 'If you hit a creature and deal damage, you have Advantage on your next attack roll against it.', '-': 'No mastery property.'
};

export const ALL_WEAPONS: Record<string, Weapon> = {
    'Club': { name: 'Club', damage: '1d4', type: 'Bludgeoning', properties: ['Light'], mastery: 'Slow', equipped: false }, 'Dagger': { name: 'Dagger', damage: '1d4', type: 'Piercing', properties: ['Finesse', 'Light', 'Thrown (20/60)'], mastery: 'Nick', equipped: false }, 'Greatclub': { name: 'Greatclub', damage: '1d8', type: 'Bludgeoning', properties: ['Two-Handed'], mastery: 'Push', equipped: false },
    'Handaxe': { name: 'Handaxe', damage: '1d6', type: 'Slashing', properties: ['Light', 'Thrown (20/60)'], mastery: 'Vex', equipped: false }, 'Javelin': { name: 'Javelin', damage: '1d6', type: 'Piercing', properties: ['Thrown (30/120)'], mastery: 'Slow', equipped: false }, 'Light Hammer': { name: 'Light Hammer', damage: '1d4', type: 'Bludgeoning', properties: ['Light', 'Thrown (20/60)'], mastery: 'Nick', equipped: false },
    'Mace': { name: 'Mace', damage: '1d6', type: 'Bludgeoning', properties: [], mastery: 'Sap', equipped: false }, 'Quarterstaff': { name: 'Quarterstaff', damage: '1d6', type: 'Bludgeoning', properties: ['Versatile (1d8)'], mastery: 'Topple', equipped: false }, 'Sickle': { name: 'Sickle', damage: '1d4', type: 'Slashing', properties: ['Light'], mastery: 'Nick', equipped: false },
    'Spear': { name: 'Spear', damage: '1d6', type: 'Piercing', properties: ['Thrown (20/60)', 'Versatile (1d8)'], mastery: 'Sap', equipped: false }, 'Dart': { name: 'Dart', damage: '1d4', type: 'Piercing', properties: ['Finesse', 'Thrown (20/60)'], mastery: 'Vex', equipped: false }, 'Light Crossbow': { name: 'Light Crossbow', damage: '1d8', type: 'Piercing', properties: ['Ammunition (80/320)', 'Loading', 'Two-Handed'], mastery: 'Slow', equipped: false },
    'Shortbow': { name: 'Shortbow', damage: '1d6', type: 'Piercing', properties: ['Ammunition (80/320)', 'Two-Handed'], mastery: 'Vex', equipped: false }, 'Sling': { name: 'Sling', damage: '1d4', type: 'Bludgeoning', properties: ['Ammunition (30/120)'], mastery: 'Slow', equipped: false }, 'Battleaxe': { name: 'Battleaxe', damage: '1d8', type: 'Slashing', properties: ['Versatile (1d10)'], mastery: 'Topple', equipped: false },
    'Flail': { name: 'Flail', damage: '1d8', type: 'Bludgeoning', properties: [], mastery: 'Sap', equipped: false }, 'Glaive': { name: 'Glaive', damage: '1d10', type: 'Slashing', properties: ['Heavy', 'Reach', 'Two-Handed'], mastery: 'Graze', equipped: false }, 'Greataxe': { name: 'Greataxe', damage: '1d12', type: 'Slashing', properties: ['Heavy', 'Two-Handed'], mastery: 'Cleave', equipped: false },
    'Greatsword': { name: 'Greatsword', damage: '2d6', type: 'Slashing', properties: ['Heavy', 'Two-Handed'], mastery: 'Graze', equipped: false }, 'Halberd': { name: 'Halberd', damage: '1d10', type: 'Slashing', properties: ['Heavy', 'Reach', 'Two-Handed'], mastery: 'Cleave', equipped: false }, 'Lance': { name: 'Lance', damage: '1d12', type: 'Piercing', properties: ['Reach', 'Two-Handed'], mastery: 'Topple', equipped: false },
    'Longsword': { name: 'Longsword', damage: '1d8', type: 'Slashing', properties: ['Versatile (1d10)'], mastery: 'Sap', equipped: false }, 'Maul': { name: 'Maul', damage: '2d6', type: 'Bludgeoning', properties: ['Heavy', 'Two-Handed'], mastery: 'Topple', equipped: false }, 'Morningstar': { name: 'Morningstar', damage: '1d8', type: 'Piercing', properties: [], mastery: 'Sap', equipped: false },
    'Pike': { name: 'Pike', damage: '1d10', type: 'Piercing', properties: ['Heavy', 'Reach', 'Two-Handed'], mastery: 'Push', equipped: false }, 'Rapier': { name: 'Rapier', damage: '1d8', type: 'Piercing', properties: ['Finesse'], mastery: 'Vex', equipped: false }, 'Scimitar': { name: 'Scimitar', damage: '1d6', type: 'Slashing', properties: ['Finesse', 'Light'], mastery: 'Nick', equipped: false },
    'Shortsword': { name: 'Shortsword', damage: '1d6', type: 'Piercing', properties: ['Finesse', 'Light'], mastery: 'Vex', equipped: false }, 'Trident': { name: 'Trident', damage: '1d8', type: 'Piercing', properties: ['Thrown (20/60)', 'Versatile (1d10)'], mastery: 'Topple', equipped: false }, 'War Pick': { name: 'War Pick', damage: '1d8', type: 'Piercing', properties: ['Versatile (1d10)'], mastery: 'Sap', equipped: false },
    'Warhammer': { name: 'Warhammer', damage: '1d8', type: 'Bludgeoning', properties: ['Versatile (1d10)'], mastery: 'Push', equipped: false }, 'Whip': { name: 'Whip', damage: '1d4', type: 'Slashing', properties: ['Finesse', 'Reach'], mastery: 'Slow', equipped: false }, 'Blowgun': { name: 'Blowgun', damage: '1', type: 'Piercing', properties: ['Ammunition (25/100)', 'Loading'], mastery: 'Vex', equipped: false },
    'Hand Crossbow': { name: 'Hand Crossbow', damage: '1d6', type: 'Piercing', properties: ['Ammunition (30/120)', 'Light', 'Loading'], mastery: 'Vex', equipped: false }, 'Heavy Crossbow': { name: 'Heavy Crossbow', damage: '1d10', type: 'Piercing', properties: ['Ammunition (100/400)', 'Heavy', 'Loading', 'Two-Handed'], mastery: 'Push', equipped: false }, 'Longbow': { name: 'Longbow', damage: '1d8', type: 'Piercing', properties: ['Ammunition (150/600)', 'Heavy', 'Two-Handed'], mastery: 'Slow', equipped: false },
    'Musket': { name: 'Musket', damage: '1d12', type: 'Piercing', properties: ['Ammunition (40/120)', 'Loading', 'Two-Handed'], mastery: 'Slow', equipped: false }, 'Pistol': { name: 'Pistol', damage: '1d10', type: 'Piercing', properties: ['Ammunition (30/90)', 'Loading'], mastery: 'Vex', equipped: false }, 'Unarmed Strike': { name: 'Unarmed Strike', damage: '1', type: 'Bludgeoning', properties: [], mastery: '-', equipped: true },
    'Shield': { name: 'Shield', damage: '--', type: 'Armor', properties: ['+2 AC'], mastery: '-', equipped: false }
};

export interface Armor { baseAC: number; maxDex?: number; stealthDisadvantage: boolean; strengthReq: number; type: 'Light' | 'Medium' | 'Heavy' | 'Shield'; }
export const ARMOR_OPTIONS: Record<string, Armor> = {
    'Padded': { baseAC: 11, type: 'Light', stealthDisadvantage: true, strengthReq: 0 }, 'Leather': { baseAC: 11, type: 'Light', stealthDisadvantage: false, strengthReq: 0 }, 'Studded Leather': { baseAC: 12, type: 'Light', stealthDisadvantage: false, strengthReq: 0 },
    'Hide': { baseAC: 12, maxDex: 2, type: 'Medium', stealthDisadvantage: false, strengthReq: 0 }, 'Chain Shirt': { baseAC: 13, maxDex: 2, type: 'Medium', stealthDisadvantage: false, strengthReq: 0 }, 'Scale Mail': { baseAC: 14, maxDex: 2, type: 'Medium', stealthDisadvantage: true, strengthReq: 0 },
    'Breastplate': { baseAC: 14, maxDex: 2, type: 'Medium', stealthDisadvantage: false, strengthReq: 0 }, 'Half Plate': { baseAC: 15, maxDex: 2, type: 'Medium', stealthDisadvantage: true, strengthReq: 0 }, 'Ring Mail': { baseAC: 14, maxDex: 0, type: 'Heavy', stealthDisadvantage: true, strengthReq: 0 },
    'Chain Mail': { baseAC: 16, maxDex: 0, type: 'Heavy', stealthDisadvantage: true, strengthReq: 13 }, 'Splint': { baseAC: 17, maxDex: 0, type: 'Heavy', stealthDisadvantage: true, strengthReq: 15 }, 'Plate': { baseAC: 18, maxDex: 0, type: 'Heavy', stealthDisadvantage: true, strengthReq: 15 },
    'Shield': { baseAC: 2, type: 'Shield', stealthDisadvantage: false, strengthReq: 0 }
};

export const FEAT_OPTIONS: { name: string, description: string }[] = [
    { name: 'Ability Score Improvement', description: 'Increase one Ability Score by 2, or two Ability Scores by 1.' }, { name: 'Actor', description: 'Increase CHA. Advantage on Deception/Performance to mimic.' }, { name: 'Alert', description: 'Add PB to Initiative. Swap initiative with willing ally.' }, { name: 'Athlete', description: 'Increase STR/DEX. Stand up with 5ft movement. Climb faster.' }, { name: 'Charger', description: 'Increase STR/DEX. Improved Dash or Push attacks.' },
    { name: 'Crafter', description: 'Discount on nonmagical items. Fast crafting.' }, { name: 'Crossbow Expert', description: 'Increase DEX. Ignore Loading. Fire in melee without disadvantage.' }, { name: 'Defensive Duelist', description: 'Increase DEX. Use Reaction to add PB to AC.' }, { name: 'Dual Wielder', description: 'Increase STR/DEX. Two-Weapon Fighting with non-Light weapons.' }, { name: 'Durable', description: 'Increase CON. Advantage on Death Saves. Hit Die healing improved.' },
    { name: 'Elementalist', description: 'Increase INT/WIS/CHA. Spells ignore resistance to an elemental type.' }, { name: 'Great Weapon Master', description: 'Increase STR. On Crit/Kill, bonus action attack. Add PB to damage.' }, { name: 'Healer', description: 'Increase WIS. Reroll 1s on healing spells. Med kit usage improved.' }, { name: 'Heavily Armored', description: 'Increase STR/CON. Gain Heavy Armor proficiency.' }, { name: 'Heavy Armor Master', description: 'Increase STR/CON. Reduce incoming non-magical damage by PB.' },
    { name: 'Inspiring Leader', description: 'Increase WIS/CHA. Grant Temp HP to allies after rest.' }, { name: 'Keen Mind', description: 'Increase INT. Expertise in one INT skill.' }, { name: 'Lightly Armored', description: 'Increase STR/DEX. Gain Light/Medium Armor and Shield proficiency.' }, { name: 'Lucky', description: 'Gain Luck Points to grant Advantage or impose Disadvantage.' }, { name: 'Mage Slayer', description: 'Increase STR/DEX. Reaction to attack caster. Adv on saves vs spells.' },
    { name: 'Magic Initiate', description: 'Learn 2 Cantrips and 1 Level 1 Spell from a class list.' }, { name: 'Martial Weapon Training', description: 'Increase STR/DEX. Proficiency in Martial Weapons.' }, { name: 'Medium Armor Master', description: 'Increase STR/DEX. Ignore Max Dex 2 limit on Medium Armor.' }, { name: 'Mobile', description: 'Increase DEX/STR. Speed +10ft. Dash ignores difficult terrain.' }, { name: 'Moderately Armored', description: 'Increase STR/DEX. Medium Armor and Shield proficiency.' },
    { name: 'Mounted Combatant', description: 'Increase STR/WIS. Advantage on attacks vs smaller creatures while mounted.' }, { name: 'Musician', description: 'Increase STR/DEX/CHA. Grant Heroic Inspiration to allies after rest.' }, { name: 'Observant', description: 'Increase INT/WIS. Expertise in Investigation, Perception, or Insight.' }, { name: 'Polearm Master', description: 'Increase STR/DEX. Bonus action attack with butt end. Opportunity attack on entry.' }, { name: 'Resilient', description: 'Increase one score. Gain proficiency in saves for that score.' },
    { name: 'Ritual Caster', description: 'Increase INT/WIS/CHA. Can cast ritual spells.' }, { name: 'Savage Attacker', description: 'Increase STR/DEX. Advantage on weapon damage rolls.' }, { name: 'Sentinel', description: 'Increase STR/DEX. Opportunity attacks stop movement. Reaction attack if ally hit.' }, { name: 'Sharpshooter', description: 'Increase DEX. Ignore cover. Fire at long range without disadvantage.' }, { name: 'Shield Master', description: 'Increase STR. Bash as bonus action. Add shield AC to DEX saves.' },
    { name: 'Skilled', description: 'Gain proficiency in 3 Skills or Tools.' }, { name: 'Skulker', description: 'Increase DEX. Hide when lightly obscured. Missed hidden attacks don\'t reveal.' }, { name: 'Speedy', description: 'Increase DEX/CON. Speed +10ft. Dash ignores difficult terrain.' }, { name: 'Spell Sniper', description: 'Increase INT/WIS/CHA. Ignore cover. Spell range doubled.' }, { name: 'Tavern Brawler', description: 'Increase STR/CON. Unarmed damage 1d4. Grapple as bonus action.' },
    { name: 'Tough', description: 'HP max increases by 2 per level.' }, { name: 'War Caster', description: 'Increase INT/WIS/CHA. Advantage on CON saves. Cast spell as Opportunity Attack.' }, { name: 'Weapon Master', description: 'Increase STR/DEX. Proficiency with 4 weapons. Unlock mastery.' },
];

export const getLevelData = (className: string, level: number): { features: string[], asi: boolean, subclass: boolean } => {
    const progression = CLASS_PROGRESSION[className] || {};
    const features = progression[level] || [];
    let asi = [4, 8, 12, 16, 19].includes(level);
    if (className === 'Fighter' && [6, 14].includes(level)) asi = true;
    if (className === 'Rogue' && level === 10) asi = true;
    const subclass = level === 3;
    return { features, asi, subclass };
};